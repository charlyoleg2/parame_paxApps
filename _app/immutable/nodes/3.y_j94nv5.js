import{a as Pt,b as wl}from"../chunks/makeList.DOD-nMPK.js";import{H as Cl,w as ul,g as Ol}from"../chunks/entry.DIZ2aj2g.js";import{Q as Dl,s as Me,p as st,i as J,n as ze,f as k,e as _,c as p,b as S,R as ht,m as f,h as o,S as G,v as Ie,a as j,g as I,T as Ae,o as Ke,M as El,t as Y,l as ie,d as K,U as He,N as Ll,O as Sl,P as jl,j as ge,y as qe,V as be,k as at,r as Et,W as ml,X as _t,Y as Ct,Z as Il,D as bt,_ as ot,$ as Pl,a0 as Al}from"../chunks/scheduler.DRWPw3kJ.js";import{S as ye,i as Fe,f as Ue,b as Ee,d as Le,m as Se,a as we,t as Oe,e as je,g as Ul,c as zl}from"../chunks/index.Bp635FAC.js";import{e as De,g as Ml,m as dl,h as yl,j as hl,k as _l,P as wt,l as Fl,n as Nt,o as ct,q as Bl,r as Rl,s as Ot,t as Hl,u as At,f as dt,w as Dt,x as Ge,y as Vl,z as Wl,A as Xl,B as Yl,C as Kl}from"../chunks/index.DW__ldlh.js";import{b as vt}from"../chunks/paths.pnn0NMhQ.js";import{p as ql}from"../chunks/stores.BMlimyJR.js";function Gl(t,e){throw new Cl(t,e)}new TextEncoder;function Zl({params:t}){const e=t.design;if(Object.keys(Pt).includes(e))return{pageDef:Pt[e],allLink:wl};Gl(404,"Design undefined!")}const vs=Object.freeze(Object.defineProperty({__proto__:null,load:Zl},Symbol.toStringTag,{value:"Module"})),Ze=ul({});function pl(t,e,l){const n=Dl(Ze);if(Object.keys(n).includes(t)){const s=n[t],a=Object.keys(s);for(const c of Object.keys(e))a.includes(c)?l&&(s[c]=e[c]):s[c]=e[c];n[t]=s}else n[t]=e;Ze.set(n)}function Jl(t){const e=t.pDef.partName,l={};for(const n of t.pDef.params)l[n.name]=n.init;pl(e,l,!1)}function Ut(t){let e,l,n,r,s,a,c;return{c(){e=_("aside"),l=_("div"),n=_("button"),r=_("img"),this.h()},l(u){e=p(u,"ASIDE",{class:!0});var i=S(e);l=p(i,"DIV",{class:!0});var m=S(l);n=p(m,"BUTTON",{class:!0});var h=S(n);r=p(h,"IMG",{src:!0,alt:!0}),h.forEach(k),m.forEach(k),i.forEach(k),this.h()},h(){ht(r.src,s=t[1])||f(r,"src",s),f(r,"alt",t[1]),f(n,"class","svelte-sjxf1e"),f(l,"class","dialog svelte-sjxf1e"),f(e,"class","backdrop svelte-sjxf1e")},m(u,i){J(u,e,i),o(e,l),o(l,n),o(n,r),a||(c=G(n,"click",t[2]),a=!0)},p(u,i){i&2&&!ht(r.src,s=u[1])&&f(r,"src",s),i&2&&f(r,"alt",u[1])},d(u){u&&k(e),a=!1,c()}}}function Ql(t){let e,l=t[0]&&Ut(t);return{c(){l&&l.c(),e=st()},l(n){l&&l.l(n),e=st()},m(n,r){l&&l.m(n,r),J(n,e,r)},p(n,[r]){n[0]?l?l.p(n,r):(l=Ut(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ze,o:ze,d(n){n&&k(e),l&&l.d(n)}}}function $l(t,e,l){let{svgPath:n}=e,{modalOpen:r}=e;function s(){l(0,r=!1)}return t.$$set=a=>{"svgPath"in a&&l(1,n=a.svgPath),"modalOpen"in a&&l(0,r=a.modalOpen)},[r,n,s]}class gl extends ye{constructor(e){super(),Fe(this,e,$l,Ql,Me,{svgPath:1,modalOpen:0})}}function zt(t,e,l){const n=t.slice();return n[8]=e[l],n}function Mt(t){let e,l,n,r,s,a,c;function u(){return t[6](t[8])}return{c(){e=_("button"),l=_("img"),s=j(),this.h()},l(i){e=p(i,"BUTTON",{class:!0});var m=S(e);l=p(m,"IMG",{src:!0,alt:!0,class:!0}),s=I(m),m.forEach(k),this.h()},h(){ht(l.src,n=t[8])||f(l,"src",n),f(l,"alt",r=t[8]),f(l,"class","svelte-fxmnfh"),f(e,"class","svelte-fxmnfh")},m(i,m){J(i,e,m),o(e,l),o(e,s),a||(c=G(e,"click",u),a=!0)},p(i,m){t=i,m&1&&!ht(l.src,n=t[8])&&f(l,"src",n),m&1&&r!==(r=t[8])&&f(l,"alt",r)},d(i){i&&k(e),a=!1,c()}}}function xl(t){let e,l,n,r,s;function a(m){t[5](m)}let c={svgPath:t[2]};t[1]!==void 0&&(c.modalOpen=t[1]),l=new gl({props:c}),Ie.push(()=>Ue(l,"modalOpen",a));let u=De(t[0]),i=[];for(let m=0;m<u.length;m+=1)i[m]=Mt(zt(t,u,m));return{c(){e=_("section"),Ee(l.$$.fragment),r=j();for(let m=0;m<i.length;m+=1)i[m].c();this.h()},l(m){e=p(m,"SECTION",{class:!0});var h=S(e);Le(l.$$.fragment,h),r=I(h);for(let N=0;N<i.length;N+=1)i[N].l(h);h.forEach(k),this.h()},h(){f(e,"class","svelte-fxmnfh")},m(m,h){J(m,e,h),Se(l,e,null),o(e,r);for(let N=0;N<i.length;N+=1)i[N]&&i[N].m(e,null);s=!0},p(m,[h]){const N={};if(h&4&&(N.svgPath=m[2]),!n&&h&2&&(n=!0,N.modalOpen=m[1],Ae(()=>n=!1)),l.$set(N),h&9){u=De(m[0]);let v;for(v=0;v<u.length;v+=1){const d=zt(m,u,v);i[v]?i[v].p(d,h):(i[v]=Mt(d),i[v].c(),i[v].m(e,null))}for(;v<i.length;v+=1)i[v].d(1);i.length=u.length}},i(m){s||(we(l.$$.fragment,m),s=!0)},o(m){Oe(l.$$.fragment,m),s=!1},d(m){m&&k(e),je(l),Ke(i,m)}}}function en(t){const e=[];for(const l of Object.values(t.paramSvg))e.includes(l)||e.push(l);return e}function tn(t,e,l){let{pDef:n}=e;function r(h){const N=en(n),v=[];for(const d of N)v.push(`${vt}/pgdsvg/${d}`);return v}let s=[],a=!1,c;function u(h){l(2,c=h),l(1,a=!0)}function i(h){a=h,l(1,a)}const m=h=>u(h);return t.$$set=h=>{"pDef"in h&&l(4,n=h.pDef)},t.$$.update=()=>{t.$$.dirty&16&&l(0,s=r(n.partName))},[s,a,c,u,n,i,m]}class ln extends ye{constructor(e){super(),Fe(this,e,tn,xl,Me,{pDef:4})}}function yt(t){let e,l,n,r,s,a,c="Cancel",u,i,m,h,N,v;const d=t[7].default,b=El(d,t,t[6],null);return{c(){e=_("aside"),l=_("div"),n=_("article"),b&&b.c(),r=j(),s=_("footer"),a=_("button"),a.textContent=c,u=j(),i=_("button"),m=Y(t[1]),this.h()},l(T){e=p(T,"ASIDE",{class:!0});var g=S(e);l=p(g,"DIV",{class:!0});var C=S(l);n=p(C,"ARTICLE",{class:!0});var D=S(n);b&&b.l(D),D.forEach(k),r=I(C),s=p(C,"FOOTER",{class:!0});var O=S(s);a=p(O,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(a)!=="svelte-hcvk9s"&&(a.textContent=c),u=I(O),i=p(O,"BUTTON",{class:!0});var z=S(i);m=K(z,t[1]),z.forEach(k),O.forEach(k),C.forEach(k),g.forEach(k),this.h()},h(){f(n,"class","question svelte-weruk7"),f(a,"class","cancel svelte-weruk7"),f(i,"class","ok svelte-weruk7"),f(s,"class","svelte-weruk7"),f(l,"class","dialog svelte-weruk7"),He(l,"sizeLarge",t[2]),f(e,"class","backdrop svelte-weruk7")},m(T,g){J(T,e,g),o(e,l),o(l,n),b&&b.m(n,null),o(l,r),o(l,s),o(s,a),o(s,u),o(s,i),o(i,m),h=!0,N||(v=[G(a,"click",t[3]),G(i,"click",t[4])],N=!0)},p(T,g){b&&b.p&&(!h||g&64)&&Ll(b,d,T,T[6],h?jl(d,T[6],g,null):Sl(T[6]),null),(!h||g&2)&&ge(m,T[1]),(!h||g&4)&&He(l,"sizeLarge",T[2])},i(T){h||(we(b,T),h=!0)},o(T){Oe(b,T),h=!1},d(T){T&&k(e),b&&b.d(T),N=!1,qe(v)}}}function nn(t){let e,l,n=t[0]&&yt(t);return{c(){n&&n.c(),e=st()},l(r){n&&n.l(r),e=st()},m(r,s){n&&n.m(r,s),J(r,e,s),l=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&we(n,1)):(n=yt(r),n.c(),we(n,1),n.m(e.parentNode,e)):n&&(Ul(),Oe(n,1,1,()=>{n=null}),zl())},i(r){l||(we(n),l=!0)},o(r){Oe(n),l=!1},d(r){r&&k(e),n&&n.d(r)}}}function sn(t,e,l){let{$$slots:n={},$$scope:r}=e,{okName:s="Ok"}=e,{okFunc:a}=e,{modalOpen:c}=e,{sizeLarge:u=!1}=e;function i(){l(0,c=!1)}function m(){a(),l(0,c=!1)}return t.$$set=h=>{"okName"in h&&l(1,s=h.okName),"okFunc"in h&&l(5,a=h.okFunc),"modalOpen"in h&&l(0,c=h.modalOpen),"sizeLarge"in h&&l(2,u=h.sizeLarge),"$$scope"in h&&l(6,r=h.$$scope)},[c,s,u,i,m,a,r,n]}class gt extends ye{constructor(e){super(),Fe(this,e,sn,nn,Me,{okName:1,okFunc:5,modalOpen:0,sizeLarge:2})}}function Ft(t,e,l){const n=t.slice();return n[17]=e[l],n[18]=e,n[19]=l,n}function Bt(t,e,l){const n=t.slice();return n[17]=e[l],n}function Rt(t){let e,l=t[17]+"",n;return{c(){e=_("p"),n=Y(l),this.h()},l(r){e=p(r,"P",{class:!0});var s=S(e);n=K(s,l),s.forEach(k),this.h()},h(){f(e,"class","diagItem svelte-12dj9tj")},m(r,s){J(r,e,s),o(e,n)},p(r,s){s&1&&l!==(l=r[17]+"")&&ge(n,l)},d(r){r&&k(e)}}}function Ht(t){let e,l=t[3][t[17]]&&Rt(t);return{c(){l&&l.c(),e=st()},l(n){l&&l.l(n),e=st()},m(n,r){l&&l.m(n,r),J(n,e,r)},p(n,r){n[3][n[17]]?l?l.p(n,r):(l=Rt(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(n){n&&k(e),l&&l.d(n)}}}function an(t){let e,l="Do you really want to delete the following localStorage keys?",n,r,s=De(t[0]),a=[];for(let c=0;c<s.length;c+=1)a[c]=Ht(Bt(t,s,c));return{c(){e=_("p"),e.textContent=l,n=j();for(let c=0;c<a.length;c+=1)a[c].c();r=st(),this.h()},l(c){e=p(c,"P",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-12r0p0q"&&(e.textContent=l),n=I(c);for(let u=0;u<a.length;u+=1)a[u].l(c);r=st(),this.h()},h(){f(e,"class","diagTitle svelte-12dj9tj")},m(c,u){J(c,e,u),J(c,n,u);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(c,u);J(c,r,u)},p(c,u){if(u&9){s=De(c[0]);let i;for(i=0;i<s.length;i+=1){const m=Bt(c,s,i);a[i]?a[i].p(m,u):(a[i]=Ht(m),a[i].c(),a[i].m(r.parentNode,r))}for(;i<a.length;i+=1)a[i].d(1);a.length=s.length}},d(c){c&&(k(e),k(n),k(r)),Ke(a,c)}}}function Vt(t){let e,l,n,r,s,a,c=t[17]+"",u,i,m,h=t[2][t[17]]+"",N,v,d,b;function T(){t[12].call(n,t[17])}function g(){return t[13](t[17])}return{c(){e=_("tr"),l=_("td"),n=_("input"),r=j(),s=_("td"),a=_("button"),u=Y(c),i=j(),m=_("td"),N=Y(h),v=j(),this.h()},l(C){e=p(C,"TR",{class:!0});var D=S(e);l=p(D,"TD",{});var O=S(l);n=p(O,"INPUT",{type:!0}),O.forEach(k),r=I(D),s=p(D,"TD",{class:!0});var z=S(s);a=p(z,"BUTTON",{class:!0});var F=S(a);u=K(F,c),F.forEach(k),z.forEach(k),i=I(D),m=p(D,"TD",{});var U=S(m);N=K(U,h),U.forEach(k),v=I(D),D.forEach(k),this.h()},h(){f(n,"type","checkbox"),f(a,"class","svelte-12dj9tj"),f(s,"class","svelte-12dj9tj"),f(e,"class","svelte-12dj9tj")},m(C,D){J(C,e,D),o(e,l),o(l,n),n.checked=t[3][t[17]],o(e,r),o(e,s),o(s,a),o(a,u),o(e,i),o(e,m),o(m,N),o(e,v),d||(b=[G(n,"change",T),G(a,"click",g)],d=!0)},p(C,D){t=C,D&9&&(n.checked=t[3][t[17]]),D&1&&c!==(c=t[17]+"")&&ge(u,c),D&5&&h!==(h=t[2][t[17]]+"")&&ge(N,h)},d(C){C&&k(e),d=!1,qe(b)}}}function on(t){let e,l,n="Delete",r,s,a,c,u,i,m,h="<td>Delete</td> <td>Key name</td> <td>Last modification</td>",N,v,d,b,T,g,C="delete all",D,O,z,F,U,w,E;function M(y){t[10](y)}let P={okName:"Confirm",okFunc:t[6],$$slots:{default:[an]},$$scope:{ctx:t}};t[4]!==void 0&&(P.modalOpen=t[4]),s=new gt({props:P}),Ie.push(()=>Ue(s,"modalOpen",M));let X=De(t[0]),R=[];for(let y=0;y<X.length;y+=1)R[y]=Vt(Ft(t,X,y));return{c(){e=_("div"),l=_("button"),l.textContent=n,r=j(),Ee(s.$$.fragment),c=j(),u=_("table"),i=_("thead"),m=_("tr"),m.innerHTML=h,N=j(),v=_("tr"),d=_("td"),b=_("input"),T=j(),g=_("td"),g.textContent=C,D=j(),O=_("td"),z=j(),F=_("tbody");for(let y=0;y<R.length;y+=1)R[y].c();this.h()},l(y){e=p(y,"DIV",{class:!0});var V=S(e);l=p(V,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(l)!=="svelte-1tbm4xl"&&(l.textContent=n),r=I(V),Le(s.$$.fragment,V),c=I(V),u=p(V,"TABLE",{class:!0});var x=S(u);i=p(x,"THEAD",{class:!0});var Z=S(i);m=p(Z,"TR",{"data-svelte-h":!0}),ie(m)!=="svelte-xt53kn"&&(m.innerHTML=h),N=I(Z),v=p(Z,"TR",{});var le=S(v);d=p(le,"TD",{});var _e=S(d);b=p(_e,"INPUT",{type:!0}),_e.forEach(k),T=I(le),g=p(le,"TD",{class:!0,"data-svelte-h":!0}),ie(g)!=="svelte-1s4wssd"&&(g.textContent=C),D=I(le),O=p(le,"TD",{}),S(O).forEach(k),le.forEach(k),Z.forEach(k),z=I(x),F=p(x,"TBODY",{class:!0});var ce=S(F);for(let pe=0;pe<R.length;pe+=1)R[pe].l(ce);ce.forEach(k),x.forEach(k),V.forEach(k),this.h()},h(){f(l,"class","svelte-12dj9tj"),f(b,"type","checkbox"),f(g,"class","instruction"),f(i,"class","svelte-12dj9tj"),f(F,"class","svelte-12dj9tj"),f(u,"class","svelte-12dj9tj"),f(e,"class","deleteKeys svelte-12dj9tj")},m(y,V){J(y,e,V),o(e,l),o(e,r),Se(s,e,null),o(e,c),o(e,u),o(u,i),o(i,m),o(i,N),o(i,v),o(v,d),o(d,b),b.checked=t[1],o(v,T),o(v,g),o(v,D),o(v,O),o(u,z),o(u,F);for(let x=0;x<R.length;x+=1)R[x]&&R[x].m(F,null);U=!0,w||(E=[G(l,"click",t[9]),G(b,"change",t[11])],w=!0)},p(y,[V]){const x={};if(V&4194313&&(x.$$scope={dirty:V,ctx:y}),!a&&V&16&&(a=!0,x.modalOpen=y[4],Ae(()=>a=!1)),s.$set(x),V&2&&(b.checked=y[1]),V&45){X=De(y[0]);let Z;for(Z=0;Z<X.length;Z+=1){const le=Ft(y,X,Z);R[Z]?R[Z].p(le,V):(R[Z]=Vt(le),R[Z].c(),R[Z].m(F,null))}for(;Z<R.length;Z+=1)R[Z].d(1);R.length=X.length}},i(y){U||(we(s.$$.fragment,y),U=!0)},o(y){Oe(s.$$.fragment,y),U=!1},d(y){y&&k(e),je(s),Ke(R,y),w=!1,qe(E)}}}function rn(t){let e={};for(const l of t)e[l]=!1;return e}function cn(t,e,l){let{pageName:n}=e,{storeName:r}=e,{localKeys:s}=e;function a(){let O=[];const z=new RegExp(`^${n}_`);return O=Object.keys(window.localStorage).filter(U=>z.test(U)).map(U=>U.replace(z,"")),O}s=a();function c(O){l(7,r=O)}let u={};function i(O){let z={};for(const F of O){let U="";const w=`${n}_${F}`,E=window.localStorage.getItem(w);E!==null&&(U=JSON.parse(E).lastModif),z[F]=U}return z}u=i(s);let m={};m=rn(s);let h=!1;function N(O){for(const z of s)l(3,m[z]=O,m)}function v(){for(const O of s)if(m[O]){const z=`${n}_${O}`;window.localStorage.removeItem(z)}l(0,s=a())}let d=!1;const b=()=>{l(4,d=!0)};function T(O){d=O,l(4,d)}function g(){h=this.checked,l(1,h)}function C(O){m[O]=this.checked,l(3,m)}const D=O=>c(O);return t.$$set=O=>{"pageName"in O&&l(8,n=O.pageName),"storeName"in O&&l(7,r=O.storeName),"localKeys"in O&&l(0,s=O.localKeys)},t.$$.update=()=>{t.$$.dirty&2&&N(h)},[s,h,u,m,d,c,v,r,n,b,T,g,C,D]}class vl extends ye{constructor(e){super(),Fe(this,e,cn,on,Me,{pageName:8,storeName:7,localKeys:0})}}function Wt(t){let e,l,n,r;return{c(){e=_("p"),l=Y("Warning: name "),n=Y(t[0]),r=Y(" already used"),this.h()},l(s){e=p(s,"P",{class:!0});var a=S(e);l=K(a,"Warning: name "),n=K(a,t[0]),r=K(a," already used"),a.forEach(k),this.h()},h(){f(e,"class","warnMsg svelte-1rkdwo")},m(s,a){J(s,e,a),o(e,l),o(e,n),o(e,r)},p(s,a){a&1&&ge(n,s[0])},d(s){s&&k(e)}}}function fn(t){let e,l,n,r,s,a,c="Give a name to your parameter-set:",u,i,m,h,N,v;function d(C){t[5](C)}function b(C){t[6](C)}let T={pageName:t[1]};t[0]!==void 0&&(T.storeName=t[0]),t[2]!==void 0&&(T.localKeys=t[2]),e=new vl({props:T}),Ie.push(()=>Ue(e,"storeName",d)),Ie.push(()=>Ue(e,"localKeys",b));let g=t[3]&&Wt(t);return{c(){Ee(e.$$.fragment),r=j(),s=_("div"),a=_("label"),a.textContent=c,u=j(),i=_("input"),m=j(),g&&g.c(),this.h()},l(C){Le(e.$$.fragment,C),r=I(C),s=p(C,"DIV",{class:!0});var D=S(s);a=p(D,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ie(a)!=="svelte-1vdq35w"&&(a.textContent=c),u=I(D),i=p(D,"INPUT",{type:!0,id:!0,minlength:!0,maxlength:!0,size:!0,class:!0}),m=I(D),g&&g.l(D),D.forEach(k),this.h()},h(){f(a,"for","storName"),f(a,"class","svelte-1rkdwo"),f(i,"type","text"),f(i,"id","storName"),i.required=!0,f(i,"minlength","4"),f(i,"maxlength","30"),f(i,"size","32"),f(i,"class","svelte-1rkdwo"),f(s,"class","svelte-1rkdwo")},m(C,D){Se(e,C,D),J(C,r,D),J(C,s,D),o(s,a),o(s,u),o(s,i),be(i,t[0]),o(s,m),g&&g.m(s,null),h=!0,N||(v=[G(i,"input",t[7]),G(i,"input",t[4])],N=!0)},p(C,[D]){const O={};D&2&&(O.pageName=C[1]),!l&&D&1&&(l=!0,O.storeName=C[0],Ae(()=>l=!1)),!n&&D&4&&(n=!0,O.localKeys=C[2],Ae(()=>n=!1)),e.$set(O),D&1&&i.value!==C[0]&&be(i,C[0]),C[3]?g?g.p(C,D):(g=Wt(C),g.c(),g.m(s,null)):g&&(g.d(1),g=null)},i(C){h||(we(e.$$.fragment,C),h=!0)},o(C){Oe(e.$$.fragment,C),h=!1},d(C){C&&(k(r),k(s)),je(e,C),g&&g.d(),N=!1,qe(v)}}}function un(t){const e=/[-:]/g,l=/\..*$/;return`${t}_${new Date().toISOString().replace(e,"").replace(l,"").replace("T","_")}`}function mn(t,e,l){let{pageName:n}=e,{storeName:r}=e,s=[];r=un(n);let a=!1;function c(N){l(3,a=s.includes(N))}function u(N){const v=N.target.value;c(v)}function i(N){r=N,l(0,r)}function m(N){s=N,l(2,s)}function h(){r=this.value,l(0,r)}return t.$$set=N=>{"pageName"in N&&l(1,n=N.pageName),"storeName"in N&&l(0,r=N.storeName)},t.$$.update=()=>{t.$$.dirty&1&&c(r)},[r,n,s,a,u,i,m,h]}class dn extends ye{constructor(e){super(),Fe(this,e,mn,fn,Me,{pageName:1,storeName:0})}}function hn(t){let e,l,n,r,s,a,c="Select a parameter-set:",u,i,m;function h(d){t[3](d)}function N(d){t[4](d)}let v={pageName:t[1]};return t[0]!==void 0&&(v.storeName=t[0]),t[2]!==void 0&&(v.localKeys=t[2]),e=new vl({props:v}),Ie.push(()=>Ue(e,"storeName",h)),Ie.push(()=>Ue(e,"localKeys",N)),{c(){Ee(e.$$.fragment),r=j(),s=_("div"),a=_("label"),a.textContent=c,u=j(),i=_("input"),this.h()},l(d){Le(e.$$.fragment,d),r=I(d),s=p(d,"DIV",{class:!0});var b=S(s);a=p(b,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ie(a)!=="svelte-rajgc0"&&(a.textContent=c),u=I(b),i=p(b,"INPUT",{type:!0,id:!0,minlength:!0,maxlength:!0,size:!0,class:!0}),b.forEach(k),this.h()},h(){f(a,"for","storName"),f(a,"class","svelte-1ozd0ey"),f(i,"type","text"),f(i,"id","storName"),i.value=t[0],i.readOnly=!0,f(i,"minlength","4"),f(i,"maxlength","30"),f(i,"size","32"),f(i,"class","svelte-1ozd0ey"),f(s,"class","svelte-1ozd0ey")},m(d,b){Se(e,d,b),J(d,r,b),J(d,s,b),o(s,a),o(s,u),o(s,i),m=!0},p(d,[b]){const T={};b&2&&(T.pageName=d[1]),!l&&b&1&&(l=!0,T.storeName=d[0],Ae(()=>l=!1)),!n&&b&4&&(n=!0,T.localKeys=d[2],Ae(()=>n=!1)),e.$set(T),(!m||b&1&&i.value!==d[0])&&(i.value=d[0])},i(d){m||(we(e.$$.fragment,d),m=!0)},o(d){Oe(e.$$.fragment,d),m=!1},d(d){d&&(k(r),k(s)),je(e,d)}}}function _n(t,e,l){let{pageName:n}=e,{storeName:r}=e,s=[];function a(i){let m=r;return!i.includes(m)&&(i.length>0?m=i[0]:m=""),m}function c(i){r=i,l(0,r),l(2,s)}function u(i){s=i,l(2,s)}return t.$$set=i=>{"pageName"in i&&l(1,n=i.pageName),"storeName"in i&&l(0,r=i.storeName)},t.$$.update=()=>{t.$$.dirty&4&&l(0,r=a(s))},[r,n,s,c,u]}class pn extends ye{constructor(e){super(),Fe(this,e,_n,hn,Me,{pageName:1,storeName:0})}}const Ve=ul(Ml());function gn(t){let e;return{c(){e=_("canvas"),this.h()},l(l){e=p(l,"CANVAS",{class:!0,width:!0,height:!0}),S(e).forEach(k),this.h()},h(){f(e,"class","mini svelte-z8e4tz"),f(e,"width",Xt),f(e,"height",Xt)},m(l,n){J(l,e,n),t[9](e)},p:ze,i:ze,o:ze,d(l){l&&k(e),t[9](null)}}}const Xt=200;function vn(t,e,l){let n,r;at(t,Ve,T=>l(7,n=T)),at(t,Ze,T=>l(8,r=T));let{pageName:s}=e,{fgeom:a}=e,{selFace:c}=e,{zAdjust:u}=e,{simTime:i=0}=e,m,h;function N(T,g){const C=yl(g);C.ruler=!1;const D=m.getContext("2d");D.clearRect(0,0,D.canvas.width,D.canvas.height);try{u.init===0?h=T.getAdjustFull(D.canvas.width,D.canvas.height):h=u,T.draw(D,h,C)}catch(O){console.log(O)}}let v=0;function d(T,g,C,D){const O=a(T,g).fig;if(Object.keys(O).includes(C)){const z=O[C];N(z,D)}else{const z=dl(O);N(z,D)}}Et(()=>{d(i,r[s],c,n),l(6,v=1)});function b(T){Ie[T?"unshift":"push"](()=>{m=T,l(0,m)})}return t.$$set=T=>{"pageName"in T&&l(1,s=T.pageName),"fgeom"in T&&l(2,a=T.fgeom),"selFace"in T&&l(3,c=T.selFace),"zAdjust"in T&&l(4,u=T.zAdjust),"simTime"in T&&l(5,i=T.simTime)},t.$$.update=()=>{t.$$.dirty&490&&v===1&&d(i,r[s],c,n)},[m,s,a,c,u,i,v,n,r,b]}class Yt extends ye{constructor(e){super(),Fe(this,e,vn,gn,Me,{pageName:1,fgeom:2,selFace:3,zAdjust:4,simTime:5})}}function bn(t,e){const l=document.createElement("a");l.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),l.setAttribute("download",t),l.click(),l.remove()}function bl(t,e,l){const n=/[-:]/g,r=/\..*$/,s=new Date().toISOString().replace(n,"").replace(r,"").replace("T","_"),a=`px_${t}_${s}.json`,c=hl(s,t,e,l);bn(a,c)}function kn(t,e,l){const n=new URL(t),r=2e3;let s=n.toString().length;for(const a of Object.keys(e)){const c=e[a].toString(),u=2+a.length+c.length;n.searchParams.append(encodeURIComponent(a),encodeURIComponent(c)),s+=u}return s>=r&&console.log(`warn547: generateUrl: strLength ${s} larger than strLengthLimit ${r}`),n.toString()}function Kt(t,e,l){const n=t.slice();return n[58]=e[l],n[59]=e,n[60]=l,n}function qt(t,e,l){const n=t.slice();return n[61]=e[l],n[62]=e,n[63]=l,n}function Gt(t,e,l){const n=t.slice();return n[64]=e[l],n[66]=l,n}function Nn(t,e,l){const n=t.slice();return n[64]=e[l],n[66]=l,n}function Tn(t){let e;return{c(){e=Y("Load the default parameters ?")},l(l){e=K(l,"Load the default parameters ?")},m(l,n){J(l,e,n)},d(l){l&&k(e)}}}function wn(t){let e,l,n;function r(a){t[34](a)}let s={pageName:t[0].partName};return t[13]!==void 0&&(s.storeName=t[13]),e=new pn({props:s}),Ie.push(()=>Ue(e,"storeName",r)),{c(){Ee(e.$$.fragment)},l(a){Le(e.$$.fragment,a)},m(a,c){Se(e,a,c),n=!0},p(a,c){const u={};c[0]&1&&(u.pageName=a[0].partName),!l&&c[0]&8192&&(l=!0,u.storeName=a[13],Ae(()=>l=!1)),e.$set(u)},i(a){n||(we(e.$$.fragment,a),n=!0)},o(a){Oe(e.$$.fragment,a),n=!1},d(a){je(e,a)}}}function Cn(t){let e;return{c(){e=Y("unknown")},l(l){e=K(l,"unknown")},m(l,n){J(l,e,n)},p:ze,d(l){l&&k(e)}}}function On(t){let e,l,n,r=De(t[61].dropdown),s=[];for(let c=0;c<r.length;c+=1)s[c]=Zt(Gt(t,r,c));function a(){t[41].call(e,t[61])}return{c(){e=_("select");for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l(c){e=p(c,"SELECT",{});var u=S(e);for(let i=0;i<s.length;i+=1)s[i].l(u);u.forEach(k),this.h()},h(){t[19][t[0].partName][t[61].name]===void 0&&bt(a)},m(c,u){J(c,e,u);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null);ot(e,t[19][t[0].partName][t[61].name],!0),l||(n=G(e,"change",a),l=!0)},p(c,u){if(t=c,u[0]&32){r=De(t[61].dropdown);let i;for(i=0;i<r.length;i+=1){const m=Gt(t,r,i);s[i]?s[i].p(m,u):(s[i]=Zt(m),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=r.length}u[0]&524321&&ot(e,t[19][t[0].partName][t[61].name])},d(c){c&&k(e),Ke(s,c),l=!1,n()}}}function Dn(t){let e,l,n,r=De(["Off","On"]),s=[];for(let c=0;c<2;c+=1)s[c]=Ln(Nn(t,r,c));function a(){t[40].call(e,t[61])}return{c(){e=_("select");for(let c=0;c<2;c+=1)s[c].c();this.h()},l(c){e=p(c,"SELECT",{});var u=S(e);for(let i=0;i<2;i+=1)s[i].l(u);u.forEach(k),this.h()},h(){t[19][t[0].partName][t[61].name]===void 0&&bt(a)},m(c,u){J(c,e,u);for(let i=0;i<2;i+=1)s[i]&&s[i].m(e,null);ot(e,t[19][t[0].partName][t[61].name],!0),l||(n=G(e,"change",a),l=!0)},p(c,u){t=c,u[0]&524321&&ot(e,t[19][t[0].partName][t[61].name])},d(c){c&&k(e),Ke(s,c),l=!1,n()}}}function En(t){let e,l,n,r,s,a,c,u,i,m,h;function N(){t[38].call(e,t[61])}function v(){t[39].call(a,t[61])}return{c(){e=_("input"),s=j(),a=_("input"),this.h()},l(d){e=p(d,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),s=I(d),a=p(d,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),this.h()},h(){f(e,"type","number"),f(e,"min",l=t[61].min),f(e,"max",n=t[61].max),f(e,"step",r=t[61].step),f(e,"class","input-number svelte-1g5tt44"),f(a,"type","range"),f(a,"min",c=t[61].min),f(a,"max",u=t[61].max),f(a,"step",i=t[61].step),f(a,"class","svelte-1g5tt44")},m(d,b){J(d,e,b),be(e,t[19][t[0].partName][t[61].name]),J(d,s,b),J(d,a,b),be(a,t[19][t[0].partName][t[61].name]),m||(h=[G(e,"input",N),G(e,"change",t[21]),G(a,"change",v),G(a,"input",v),G(a,"change",t[21])],m=!0)},p(d,b){t=d,b[0]&32&&l!==(l=t[61].min)&&f(e,"min",l),b[0]&32&&n!==(n=t[61].max)&&f(e,"max",n),b[0]&32&&r!==(r=t[61].step)&&f(e,"step",r),b[0]&524321&&_t(e.value)!==t[19][t[0].partName][t[61].name]&&be(e,t[19][t[0].partName][t[61].name]),b[0]&32&&c!==(c=t[61].min)&&f(a,"min",c),b[0]&32&&u!==(u=t[61].max)&&f(a,"max",u),b[0]&32&&i!==(i=t[61].step)&&f(a,"step",i),b[0]&524321&&be(a,t[19][t[0].partName][t[61].name])},d(d){d&&(k(e),k(s),k(a)),m=!1,qe(h)}}}function Zt(t){let e,l=t[64]+"",n;return{c(){e=_("option"),n=Y(l),this.h()},l(r){e=p(r,"OPTION",{});var s=S(e);n=K(s,l),s.forEach(k),this.h()},h(){e.__value=t[66],be(e,e.__value)},m(r,s){J(r,e,s),o(e,n)},p(r,s){s[0]&32&&l!==(l=r[64]+"")&&ge(n,l)},d(r){r&&k(e)}}}function Ln(t){let e,l;return{c(){e=_("option"),l=Y(t[64]),this.h()},l(n){e=p(n,"OPTION",{});var r=S(e);l=K(r,t[64]),r.forEach(k),this.h()},h(){e.__value=t[66],be(e,e.__value)},m(n,r){J(n,e,r),o(e,l)},p:ze,d(n){n&&k(e)}}}function Jt(t){let e,l,n=t[60]+1+"",r,s,a=t[63]+1+"",c,u,i,m,h=t[61].name+"",N,v,d,b,T,g=t[61].unit+"",C,D,O,z=t[61].init+"",F,U,w,E=t[61].min+"",M,P,X,R=t[61].max+"",y,V,x,Z=t[61].step+"",le,_e,ce;function pe(){return t[37](t[61])}function Ce(ne,q){return ne[61].pType===wt.eNumber?En:ne[61].pType===wt.eCheckbox?Dn:ne[61].pType===wt.eDropdown?On:Cn}let L=Ce(t),B=L(t);return{c(){e=_("tr"),l=_("td"),r=Y(n),s=Y("."),c=Y(a),u=j(),i=_("td"),m=_("button"),N=Y(h),v=j(),d=_("td"),B.c(),b=j(),T=_("td"),C=Y(g),D=j(),O=_("td"),F=Y(z),U=j(),w=_("td"),M=Y(E),P=j(),X=_("td"),y=Y(R),V=j(),x=_("td"),le=Y(Z),this.h()},l(ne){e=p(ne,"TR",{class:!0});var q=S(e);l=p(q,"TD",{class:!0});var fe=S(l);r=K(fe,n),s=K(fe,"."),c=K(fe,a),fe.forEach(k),u=I(q),i=p(q,"TD",{class:!0});var ee=S(i);m=p(ee,"BUTTON",{class:!0});var ke=S(m);N=K(ke,h),ke.forEach(k),ee.forEach(k),v=I(q),d=p(q,"TD",{class:!0});var Te=S(d);B.l(Te),Te.forEach(k),b=I(q),T=p(q,"TD",{class:!0});var ue=S(T);C=K(ue,g),ue.forEach(k),D=I(q),O=p(q,"TD",{class:!0});var Q=S(O);F=K(Q,z),Q.forEach(k),U=I(q),w=p(q,"TD",{class:!0});var oe=S(w);M=K(oe,E),oe.forEach(k),P=I(q),X=p(q,"TD",{class:!0});var $=S(X);y=K($,R),$.forEach(k),V=I(q),x=p(q,"TD",{class:!0});var A=S(x);le=K(A,Z),A.forEach(k),q.forEach(k),this.h()},h(){f(l,"class","svelte-1g5tt44"),f(m,"class","svelte-1g5tt44"),f(i,"class","svelte-1g5tt44"),f(d,"class","svelte-1g5tt44"),f(T,"class","svelte-1g5tt44"),f(O,"class","svelte-1g5tt44"),f(w,"class","svelte-1g5tt44"),f(X,"class","svelte-1g5tt44"),f(x,"class","svelte-1g5tt44"),f(e,"class","svelte-1g5tt44"),He(e,"changed",t[19][t[0].partName][t[61].name]!==t[61].init)},m(ne,q){J(ne,e,q),o(e,l),o(l,r),o(l,s),o(l,c),o(e,u),o(e,i),o(i,m),o(m,N),o(e,v),o(e,d),B.m(d,null),o(e,b),o(e,T),o(T,C),o(e,D),o(e,O),o(O,F),o(e,U),o(e,w),o(w,M),o(e,P),o(e,X),o(X,y),o(e,V),o(e,x),o(x,le),_e||(ce=G(m,"click",pe),_e=!0)},p(ne,q){t=ne,q[0]&32&&h!==(h=t[61].name+"")&&ge(N,h),L===(L=Ce(t))&&B?B.p(t,q):(B.d(1),B=L(t),B&&(B.c(),B.m(d,null))),q[0]&32&&g!==(g=t[61].unit+"")&&ge(C,g),q[0]&32&&z!==(z=t[61].init+"")&&ge(F,z),q[0]&32&&E!==(E=t[61].min+"")&&ge(M,E),q[0]&32&&R!==(R=t[61].max+"")&&ge(y,R),q[0]&32&&Z!==(Z=t[61].step+"")&&ge(le,Z),q[0]&524321&&He(e,"changed",t[19][t[0].partName][t[61].name]!==t[61].init)},d(ne){ne&&k(e),B.d(),_e=!1,ce()}}}function Qt(t){let e,l,n=t[60]+1+"",r,s,a,c=t[58].sectionName+"",u,i,m,h,N,v,d,b="",T,g,C,D,O;function z(){t[36].call(N,t[58])}let F=De(t[58].params),U=[];for(let w=0;w<F.length;w+=1)U[w]=Jt(qt(t,F,w));return{c(){e=_("tr"),l=_("td"),r=Y(n),s=j(),a=_("td"),u=Y(c),i=j(),m=_("td"),h=_("label"),N=_("input"),v=j(),d=_("span"),d.innerHTML=b,T=j(),g=_("tbody");for(let w=0;w<U.length;w+=1)U[w].c();C=j(),this.h()},l(w){e=p(w,"TR",{class:!0});var E=S(e);l=p(E,"TD",{class:!0});var M=S(l);r=K(M,n),M.forEach(k),s=I(E),a=p(E,"TD",{colspan:!0,class:!0});var P=S(a);u=K(P,c),P.forEach(k),i=I(E),m=p(E,"TD",{colspan:!0,class:!0});var X=S(m);h=p(X,"LABEL",{class:!0});var R=S(h);N=p(R,"INPUT",{type:!0,class:!0}),v=I(R),d=p(R,"SPAN",{class:!0,"data-svelte-h":!0}),ie(d)!=="svelte-1qufua2"&&(d.innerHTML=b),R.forEach(k),X.forEach(k),E.forEach(k),T=I(w),g=p(w,"TBODY",{class:!0});var y=S(g);for(let V=0;V<U.length;V+=1)U[V].l(y);C=I(y),y.forEach(k),this.h()},h(){f(l,"class","svelte-1g5tt44"),f(a,"colspan","4"),f(a,"class","svelte-1g5tt44"),f(N,"type","checkbox"),f(N,"class","svelte-1g5tt44"),f(d,"class","svelte-1g5tt44"),f(h,"class","svelte-1g5tt44"),f(m,"colspan","3"),f(m,"class","svelte-1g5tt44"),f(e,"class","separator svelte-1g5tt44"),f(g,"class","svelte-1g5tt44"),He(g,"collaps",t[18][t[58].sectionID])},m(w,E){J(w,e,E),o(e,l),o(l,r),o(e,s),o(e,a),o(a,u),o(e,i),o(e,m),o(m,h),o(h,N),N.checked=t[18][t[58].sectionID],o(h,v),o(h,d),J(w,T,E),J(w,g,E);for(let M=0;M<U.length;M+=1)U[M]&&U[M].m(g,null);o(g,C),D||(O=G(N,"change",z),D=!0)},p(w,E){if(t=w,E[0]&32&&c!==(c=t[58].sectionName+"")&&ge(u,c),E[0]&262176&&(N.checked=t[18][t[58].sectionID]),E[0]&271056929){F=De(t[58].params);let M;for(M=0;M<F.length;M+=1){const P=qt(t,F,M);U[M]?U[M].p(P,E):(U[M]=Jt(P),U[M].c(),U[M].m(g,C))}for(;M<U.length;M+=1)U[M].d(1);U.length=F.length}E[0]&262176&&He(g,"collaps",t[18][t[58].sectionID])},d(w){w&&(k(e),k(T),k(g)),Ke(U,w),D=!1,O()}}}function Sn(t){let e,l="Copy this URL and send it to your friends!",n,r,s;return{c(){e=_("p"),e.textContent=l,n=j(),r=_("p"),s=Y(t[15]),this.h()},l(a){e=p(a,"P",{"data-svelte-h":!0}),ie(e)!=="svelte-1kscrpk"&&(e.textContent=l),n=I(a),r=p(a,"P",{class:!0});var c=S(r);s=K(c,t[15]),c.forEach(k),this.h()},h(){f(r,"class","cUrl svelte-1g5tt44")},m(a,c){J(a,e,c),J(a,n,c),J(a,r,c),o(r,s)},p(a,c){c[0]&32768&&ge(s,a[15])},d(a){a&&(k(e),k(n),k(r))}}}function jn(t){let e,l,n;function r(a){t[45](a)}let s={pageName:t[0].partName};return t[14]!==void 0&&(s.storeName=t[14]),e=new dn({props:s}),Ie.push(()=>Ue(e,"storeName",r)),{c(){Ee(e.$$.fragment)},l(a){Le(e.$$.fragment,a)},m(a,c){Se(e,a,c),n=!0},p(a,c){const u={};c[0]&1&&(u.pageName=a[0].partName),!l&&c[0]&16384&&(l=!0,u.storeName=a[14],Ae(()=>l=!1)),e.$set(u)},i(a){n||(we(e.$$.fragment,a),n=!0)},o(a){Oe(e.$$.fragment,a),n=!1},d(a){je(e,a)}}}function In(t){let e,l,n="Parameters",r,s,a,c="Load Params from File",u,i,m,h,N="Set Params Default",v,d,b="Load Params from localStorage",T,g,C,D,O,z,F,U,w,E,M,P='<tr class="svelte-1g5tt44"><td class="svelte-1g5tt44">#</td> <td class="svelte-1g5tt44">Parameter name</td> <td class="svelte-1g5tt44">Value</td> <td class="svelte-1g5tt44">Unit</td> <td class="svelte-1g5tt44">Default</td> <td class="svelte-1g5tt44">Min</td> <td class="svelte-1g5tt44">Max</td> <td class="svelte-1g5tt44">Step</td></tr>',X,R,y,V,x="Comment:",Z,le,_e,ce,pe="Save Parameters to File",Ce,L,B="Save Parameters as URL",ne,q,fe="Save Parameters to localStorage",ee,ke,Te,ue,Q,oe,$,A,te,ae,de,ve,he,Be,xe,Je,pt,H,re,Ne,Re,We;function $e(W){t[33](W)}let rt={okName:"Overwrite Parameters",okFunc:t[24],$$slots:{default:[Tn]},$$scope:{ctx:t}};t[9]!==void 0&&(rt.modalOpen=t[9]),g=new gt({props:rt}),Ie.push(()=>Ue(g,"modalOpen",$e));function kt(W){t[35](W)}let it={okName:"Load Parameters",okFunc:t[25],$$slots:{default:[wn]},$$scope:{ctx:t}};t[10]!==void 0&&(it.modalOpen=t[10]),O=new gt({props:it}),Ie.push(()=>Ue(O,"modalOpen",kt));let et=De(t[5]),Pe=[];for(let W=0;W<et.length;W+=1)Pe[W]=Qt(Kt(t,et,W));function Lt(W){t[44](W)}let Xe={okName:"Done",okFunc:Pn,sizeLarge:!0,$$slots:{default:[Sn]},$$scope:{ctx:t}};t[11]!==void 0&&(Xe.modalOpen=t[11]),ke=new gt({props:Xe}),Ie.push(()=>Ue(ke,"modalOpen",Lt));function Nl(W){t[46](W)}let St={okName:"Save into localStorage",okFunc:t[26],$$slots:{default:[jn]},$$scope:{ctx:t}};t[12]!==void 0&&(St.modalOpen=t[12]),Q=new gt({props:St}),Ie.push(()=>Ue(Q,"modalOpen",Nl));function Tl(W){t[47](W)}let jt={svgPath:t[16]};return t[17]!==void 0&&(jt.modalOpen=t[17]),A=new gl({props:jt}),Ie.push(()=>Ue(A,"modalOpen",Tl)),Je=new Yt({props:{pageName:t[0].partName,fgeom:t[1],selFace:t[2],zAdjust:t[20],simTime:t[4]}}),re=new Yt({props:{pageName:t[0].partName,fgeom:t[1],selFace:t[2],zAdjust:t[3],simTime:t[4]}}),{c(){e=_("section"),l=_("h2"),l.textContent=n,r=j(),s=_("main"),a=_("label"),a.textContent=c,u=j(),i=_("input"),m=j(),h=_("button"),h.textContent=N,v=j(),d=_("button"),d.textContent=b,T=j(),Ee(g.$$.fragment),D=j(),Ee(O.$$.fragment),F=j(),U=_("textarea"),w=j(),E=_("table"),M=_("thead"),M.innerHTML=P,X=j();for(let W=0;W<Pe.length;W+=1)Pe[W].c();R=j(),y=_("div"),V=_("label"),V.textContent=x,Z=j(),le=_("input"),_e=j(),ce=_("button"),ce.textContent=pe,Ce=j(),L=_("button"),L.textContent=B,ne=j(),q=_("button"),q.textContent=fe,ee=j(),Ee(ke.$$.fragment),ue=j(),Ee(Q.$$.fragment),$=j(),Ee(A.$$.fragment),ae=j(),de=_("button"),ve=_("img"),Be=j(),xe=_("div"),Ee(Je.$$.fragment),pt=j(),H=_("div"),Ee(re.$$.fragment),this.h()},l(W){e=p(W,"SECTION",{class:!0});var se=S(e);l=p(se,"H2",{class:!0,"data-svelte-h":!0}),ie(l)!=="svelte-1mc497a"&&(l.textContent=n),r=I(se),s=p(se,"MAIN",{class:!0});var me=S(s);a=p(me,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ie(a)!=="svelte-zt7rok"&&(a.textContent=c),u=I(me),i=p(me,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),m=I(me),h=p(me,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(h)!=="svelte-1typ5"&&(h.textContent=N),v=I(me),d=p(me,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(d)!=="svelte-187bpo6"&&(d.textContent=b),T=I(me),Le(g.$$.fragment,me),D=I(me),Le(O.$$.fragment,me),F=I(me),U=p(me,"TEXTAREA",{rows:!0,cols:!0,wrap:!0,class:!0}),S(U).forEach(k),w=I(me),E=p(me,"TABLE",{class:!0});var tt=S(E);M=p(tt,"THEAD",{class:!0,"data-svelte-h":!0}),ie(M)!=="svelte-1szl7uo"&&(M.innerHTML=P),X=I(tt);for(let Qe=0;Qe<Pe.length;Qe+=1)Pe[Qe].l(tt);tt.forEach(k),R=I(me),y=p(me,"DIV",{class:!0});var lt=S(y);V=p(lt,"LABEL",{for:!0,"data-svelte-h":!0}),ie(V)!=="svelte-gqskth"&&(V.textContent=x),Z=I(lt),le=p(lt,"INPUT",{type:!0,id:!0,maxlength:!0,size:!0}),lt.forEach(k),_e=I(me),ce=p(me,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(ce)!=="svelte-1ny58g0"&&(ce.textContent=pe),Ce=I(me),L=p(me,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(L)!=="svelte-11or0m2"&&(L.textContent=B),ne=I(me),q=p(me,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(q)!=="svelte-5zdtrl"&&(q.textContent=fe),ee=I(me),Le(ke.$$.fragment,me),ue=I(me),Le(Q.$$.fragment,me),me.forEach(k),$=I(se),Le(A.$$.fragment,se),ae=I(se),de=p(se,"BUTTON",{class:!0});var ut=S(de);ve=p(ut,"IMG",{src:!0,alt:!0,class:!0}),ut.forEach(k),Be=I(se),xe=p(se,"DIV",{class:!0});var mt=S(xe);Le(Je.$$.fragment,mt),mt.forEach(k),pt=I(se),H=p(se,"DIV",{class:!0});var nt=S(H);Le(re.$$.fragment,nt),nt.forEach(k),se.forEach(k),this.h()},h(){f(l,"class","svelte-1g5tt44"),f(a,"for","loadFParams"),f(a,"class","fileUpload svelte-1g5tt44"),f(i,"id","loadFParams"),f(i,"type","file"),f(i,"accept","text/plain, application/json"),f(i,"class","svelte-1g5tt44"),f(h,"class","svelte-1g5tt44"),f(d,"class","svelte-1g5tt44"),f(U,"rows","3"),f(U,"cols","80"),U.readOnly=!0,f(U,"wrap","off"),U.value=t[7],f(U,"class","svelte-1g5tt44"),He(U,"colorWarn",t[8]),f(M,"class","svelte-1g5tt44"),f(E,"class","svelte-1g5tt44"),f(V,"for","inComment"),f(le,"type","text"),f(le,"id","inComment"),f(le,"maxlength","150"),f(le,"size","70"),f(y,"class","comment svelte-1g5tt44"),f(ce,"class","svelte-1g5tt44"),f(L,"class","svelte-1g5tt44"),f(q,"class","svelte-1g5tt44"),f(s,"class","svelte-1g5tt44"),ht(ve.src,he=t[16])||f(ve,"src",he),f(ve,"alt",t[16]),f(ve,"class","svelte-1g5tt44"),f(de,"class","side-img svelte-1g5tt44"),f(xe,"class","mini-canvas svelte-1g5tt44"),f(H,"class","mini-canvas svelte-1g5tt44"),f(e,"class","svelte-1g5tt44")},m(W,se){J(W,e,se),o(e,l),o(e,r),o(e,s),o(s,a),o(s,u),o(s,i),o(s,m),o(s,h),o(s,v),o(s,d),o(s,T),Se(g,s,null),o(s,D),Se(O,s,null),o(s,F),o(s,U),o(s,w),o(s,E),o(E,M),o(E,X);for(let me=0;me<Pe.length;me+=1)Pe[me]&&Pe[me].m(E,null);o(s,R),o(s,y),o(y,V),o(y,Z),o(y,le),be(le,t[6]),o(s,_e),o(s,ce),o(s,Ce),o(s,L),o(s,ne),o(s,q),o(s,ee),Se(ke,s,null),o(s,ue),Se(Q,s,null),o(e,$),Se(A,e,null),o(e,ae),o(e,de),o(de,ve),o(e,Be),o(e,xe),Se(Je,xe,null),o(e,pt),o(e,H),Se(re,H,null),Ne=!0,Re||(We=[G(i,"change",t[22]),G(h,"click",t[31]),G(d,"click",t[32]),G(le,"input",t[42]),G(ce,"click",t[23]),G(L,"click",t[27]),G(q,"click",t[43]),G(de,"click",t[29])],Re=!0)},p(W,se){const me={};se[2]&64&&(me.$$scope={dirty:se,ctx:W}),!C&&se[0]&512&&(C=!0,me.modalOpen=W[9],Ae(()=>C=!1)),g.$set(me);const tt={};if(se[0]&8193|se[2]&64&&(tt.$$scope={dirty:se,ctx:W}),!z&&se[0]&1024&&(z=!0,tt.modalOpen=W[10],Ae(()=>z=!1)),O.$set(tt),(!Ne||se[0]&128)&&(U.value=W[7]),(!Ne||se[0]&256)&&He(U,"colorWarn",W[8]),se[0]&271319073){et=De(W[5]);let Ye;for(Ye=0;Ye<et.length;Ye+=1){const It=Kt(W,et,Ye);Pe[Ye]?Pe[Ye].p(It,se):(Pe[Ye]=Qt(It),Pe[Ye].c(),Pe[Ye].m(E,null))}for(;Ye<Pe.length;Ye+=1)Pe[Ye].d(1);Pe.length=et.length}se[0]&64&&le.value!==W[6]&&be(le,W[6]);const lt={};se[0]&32768|se[2]&64&&(lt.$$scope={dirty:se,ctx:W}),!Te&&se[0]&2048&&(Te=!0,lt.modalOpen=W[11],Ae(()=>Te=!1)),ke.$set(lt);const ut={};se[0]&16385|se[2]&64&&(ut.$$scope={dirty:se,ctx:W}),!oe&&se[0]&4096&&(oe=!0,ut.modalOpen=W[12],Ae(()=>oe=!1)),Q.$set(ut);const mt={};se[0]&65536&&(mt.svgPath=W[16]),!te&&se[0]&131072&&(te=!0,mt.modalOpen=W[17],Ae(()=>te=!1)),A.$set(mt),(!Ne||se[0]&65536&&!ht(ve.src,he=W[16]))&&f(ve,"src",he),(!Ne||se[0]&65536)&&f(ve,"alt",W[16]);const nt={};se[0]&1&&(nt.pageName=W[0].partName),se[0]&2&&(nt.fgeom=W[1]),se[0]&4&&(nt.selFace=W[2]),se[0]&16&&(nt.simTime=W[4]),Je.$set(nt);const Qe={};se[0]&1&&(Qe.pageName=W[0].partName),se[0]&2&&(Qe.fgeom=W[1]),se[0]&4&&(Qe.selFace=W[2]),se[0]&8&&(Qe.zAdjust=W[3]),se[0]&16&&(Qe.simTime=W[4]),re.$set(Qe)},i(W){Ne||(we(g.$$.fragment,W),we(O.$$.fragment,W),we(ke.$$.fragment,W),we(Q.$$.fragment,W),we(A.$$.fragment,W),we(Je.$$.fragment,W),we(re.$$.fragment,W),Ne=!0)},o(W){Oe(g.$$.fragment,W),Oe(O.$$.fragment,W),Oe(ke.$$.fragment,W),Oe(Q.$$.fragment,W),Oe(A.$$.fragment,W),Oe(Je.$$.fragment,W),Oe(re.$$.fragment,W),Ne=!1},d(W){W&&k(e),je(g),je(O),Ke(Pe,W),je(ke),je(Q),je(A),je(Je),je(re),Re=!1,qe(We)}}}function Pn(){}function An(t){const e={};for(const l of t)e[l.sectionID]=l.sectionVisible;return e}function Un(t,e,l){let n,r;at(t,Ze,H=>l(19,n=H)),at(t,ql,H=>l(48,r=H));const s=ml();let{pDef:a}=e,{fgeom:c}=e,{selFace:u}=e,{zAdjust:i}=e,{simTime:m=0}=e;const h=_l();let N="";function v(){s("paramChg",{foo:"bla"})}function d(H,re){let Ne="",Re=!1;H!==a.partName&&(Ne+=`warn361: read partName: '${H}'  expected partName: '${a.partName}'
`,Re=!0);let We=0,$e=0,rt=0;const kt=[];for(const Xe of a.params)kt.push(Xe.name),Object.hasOwn(re,Xe.name)?(We+=1,n[a.partName][Xe.name]===re[Xe.name]?rt+=1:Il(Ze,n[a.partName][Xe.name]=re[Xe.name],n)):$e+=1;let it=0;for(const Xe of Object.keys(re))kt.includes(Xe)||(it+=1,Ne+=`warn363: parameter ${Xe} not in the scope of the design (${it})
`);const et=it>0;return Ne+=`Params loaded at ${new Date().toLocaleTimeString()} :`,Ne+=` def-nb: ${Object.keys(a.params).length}`,Ne+=`, cover-nb: ${We}, uncover-nb: ${$e}
`,Ne+=` load-nb: ${Object.keys(re).length}`,Ne+=`, equal-nb: ${rt}, changed-nb: ${We-rt}`,Ne+=`, out-of-scope: ${it}`,[Ne,Re||et]}let b="",T=!1;function g(){{const H=new URLSearchParams(r.url.search),re={};for(const[Ne,Re]of H){const We=Number(Re);isNaN(We)||(re[Ne]=We)}Object.keys(re).length>0&&l(7,[b,T]=d(a.partName,re),b,l(8,T))}}function C(){g(),v()}Et(()=>{C()});function D(H){try{const[re]=Fl(H);l(7,[b,T]=d(re.partName,re.pVal),b,l(8,T)),l(6,N=re.comment),v()}catch(re){let Ne=`err723: error by parsing parameter file
`;Ne+=re,l(7,b=Ne),l(8,T=!0)}}async function O(H){const re=await H.text();D(re)}function z(H){if(H.target){const re=H.target.files;re&&O(re[0])}}function F(){bl(a.partName,n[a.partName],N)}let U=!1,w=!1,E=!1,M=!1;function P(){const H={};for(const re of a.params)H[re.name]=re.init;l(7,[b,T]=d(a.partName,H),b,l(8,T))}let X;function R(){if(X!==void 0&&X!==""){const H=`${a.partName}_${X}`;{const re=window.localStorage.getItem(H);re===null?(l(7,b=`Warn157: localStorage key ${H} is null`),l(8,T=!0)):D(re)}}else l(7,b="Warn239: No valid name for loading from localStorage!"),l(8,T=!0)}let y;function V(){if(y!==void 0&&y!==""){const H=`${a.partName}_${y}`,re=/\..*$/,Re=hl(new Date().toISOString().replace(re,""),a.partName,n[a.partName],N);window.localStorage.setItem(H,Re)}else console.log("Warn639: No valid name for writing to localStorage!")}let x="";function Z(){return kn(r.url.href,n[a.partName]).toString()}function le(){l(15,x=Z()),l(11,E=!0)}let _e=`${vt}/pgdsvg/default_param_blank.svg`;function ce(H){l(16,_e=`${vt}/pgdsvg/default_param_blank.svg`),Object.keys(a.paramSvg).includes(H)&&l(16,_e=`${vt}/pgdsvg/${a.paramSvg[H]}`)}let pe="";function Ce(H,re){if(pe!==a.partName){const Ne=Object.keys(n[re]).length;H<Ne&&ce(Object.keys(n[re])[H])}}let L=!1;function B(){l(17,L=!0)}function ne(H){const re=[];let Re={sectionName:"main",sectionID:"g0main",sectionVisible:!1,params:[]},We=0;for(const $e of H)$e.pType===wt.eSectionSeparator?(re.push(Re),We+=1,Re={sectionName:$e.name,sectionID:`g${We}${$e.name}`,sectionVisible:!0,params:[]}):Re.params.push($e);return re.push(Re),re}let q,fe;const ee=()=>{l(9,U=!0)},ke=()=>{l(10,w=!0)};function Te(H){U=H,l(9,U)}function ue(H){X=H,l(13,X)}function Q(H){w=H,l(10,w)}function oe(H){fe[H.sectionID]=this.checked,l(18,fe),l(0,a),l(30,pe),l(5,q)}const $=H=>ce(H.name);function A(H){n[a.partName][H.name]=_t(this.value),Ze.set(n)}function te(H){n[a.partName][H.name]=_t(this.value),Ze.set(n)}function ae(H){n[a.partName][H.name]=Ct(this),Ze.set(n)}function de(H){n[a.partName][H.name]=Ct(this),Ze.set(n)}function ve(){N=this.value,l(6,N)}const he=()=>{l(12,M=!0)};function Be(H){E=H,l(11,E)}function xe(H){y=H,l(14,y)}function Je(H){M=H,l(12,M)}function pt(H){L=H,l(17,L)}return t.$$set=H=>{"pDef"in H&&l(0,a=H.pDef),"fgeom"in H&&l(1,c=H.fgeom),"selFace"in H&&l(2,u=H.selFace),"zAdjust"in H&&l(3,i=H.zAdjust),"simTime"in H&&l(4,m=H.simTime)},t.$$.update=()=>{t.$$.dirty[0]&1&&Ce(0,a.partName),t.$$.dirty[0]&1073741857&&(l(5,q=ne(a.params)),pe!==a.partName&&(l(30,pe=a.partName),l(18,fe=An(q))))},[a,c,u,i,m,q,N,b,T,U,w,E,M,X,y,x,_e,L,fe,n,h,v,z,F,P,R,V,le,ce,B,pe,ee,ke,Te,ue,Q,oe,$,A,te,ae,de,ve,he,Be,xe,Je,pt]}class zn extends ye{constructor(e){super(),Fe(this,e,Un,In,Me,{pDef:0,fgeom:1,selFace:2,zAdjust:3,simTime:4},null,[-1,-1,-1])}}function Mn(t){let e,l,n="0",r,s,a="<-",c,u,i="|<",m,h,N="||",v,d,b=">|",T,g,C="->",D,O,z,F,U,w;return{c(){e=_("nav"),l=_("button"),l.textContent=n,r=j(),s=_("button"),s.textContent=a,c=j(),u=_("button"),u.textContent=i,m=j(),h=_("button"),h.textContent=N,v=j(),d=_("button"),d.textContent=b,T=j(),g=_("button"),g.textContent=C,D=j(),O=_("input"),z=j(),F=_("input"),this.h()},l(E){e=p(E,"NAV",{class:!0});var M=S(e);l=p(M,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(l)!=="svelte-sw7vi1"&&(l.textContent=n),r=I(M),s=p(M,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(s)!=="svelte-gbiqvp"&&(s.textContent=a),c=I(M),u=p(M,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(u)!=="svelte-10nqggx"&&(u.textContent=i),m=I(M),h=p(M,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(h)!=="svelte-1xmh6xn"&&(h.textContent=N),v=I(M),d=p(M,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(d)!=="svelte-1wuqlom"&&(d.textContent=b),T=I(M),g=p(M,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(g)!=="svelte-1vey426"&&(g.textContent=C),D=I(M),O=p(M,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),z=I(M),F=p(M,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),M.forEach(k),this.h()},h(){f(l,"class","svelte-uw6ahn"),f(s,"class","svelte-uw6ahn"),f(u,"class","svelte-uw6ahn"),f(h,"class","svelte-uw6ahn"),f(d,"class","svelte-uw6ahn"),f(g,"class","svelte-uw6ahn"),f(O,"type","range"),f(O,"min","0"),f(O,"max",t[1]),f(O,"step",t[2]),f(O,"class","svelte-uw6ahn"),f(F,"type","number"),f(F,"min","0"),f(F,"max",t[1]),f(F,"step",t[2]),f(F,"class","svelte-uw6ahn"),f(e,"class","svelte-uw6ahn")},m(E,M){J(E,e,M),o(e,l),o(e,r),o(e,s),o(e,c),o(e,u),o(e,m),o(e,h),o(e,v),o(e,d),o(e,T),o(e,g),o(e,D),o(e,O),be(O,t[0]),o(e,z),o(e,F),be(F,t[0]),U||(w=[G(l,"click",t[3]),G(s,"click",t[6]),G(u,"click",t[4]),G(h,"click",t[8]),G(d,"click",t[5]),G(g,"click",t[7]),G(O,"change",t[10]),G(O,"input",t[10]),G(F,"input",t[11])],U=!0)},p(E,[M]){M&2&&f(O,"max",E[1]),M&4&&f(O,"step",E[2]),M&1&&be(O,E[0]),M&2&&f(F,"max",E[1]),M&4&&f(F,"step",E[2]),M&1&&_t(F.value)!==E[0]&&be(F,E[0])},i:ze,o:ze,d(E){E&&k(e),U=!1,qe(w)}}}const $t=4;function yn(t,e,l){let{tMax:n=10}=e,{tStep:r=.1}=e,{tUpdate:s=500}=e,{simTime:a=0}=e,c=null,u=0,i;function m(){c!==null&&(clearInterval(c),c=null)}function h(){i<0&&a<=0?l(0,a=n):i>0&&a>=n?l(0,a=0):l(0,a+=i)}function N(){const z=s/2**(Math.abs(u)-1);i=u<0?-r:r,c=setInterval(h,z)}function v(){m(),l(0,a=0),u=0}function d(){m(),u=0,i=-r,h()}function b(){m(),u=0,i=r,h()}function T(){m(),u=Math.max(u-1,-$t),N()}function g(){m(),u=Math.min(u+1,$t),N()}function C(){m(),u=0}Pl(()=>{m()});function D(){a=_t(this.value),l(0,a)}function O(){a=_t(this.value),l(0,a)}return t.$$set=z=>{"tMax"in z&&l(1,n=z.tMax),"tStep"in z&&l(2,r=z.tStep),"tUpdate"in z&&l(9,s=z.tUpdate),"simTime"in z&&l(0,a=z.simTime)},[a,n,r,v,d,b,T,g,C,s,D,O]}class Fn extends ye{constructor(e){super(),Fe(this,e,yn,Mn,Me,{tMax:1,tStep:2,tUpdate:9,simTime:0})}}function Bn(t){let e,l,n='<div class="zero svelte-c549k7"></div>',r,s,a='<div class="zoomin svelte-c549k7"></div>',c,u,i='<div class="zoomout svelte-c549k7"></div>',m,h,N='<div class="arrowleft svelte-c549k7"></div>',v,d,b='<div class="arrowright svelte-c549k7"></div>',T,g,C='<div class="arrowup svelte-c549k7"></div>',D,O,z='<div class="arrowdown svelte-c549k7"></div>',F,U;return{c(){e=_("nav"),l=_("button"),l.innerHTML=n,r=j(),s=_("button"),s.innerHTML=a,c=j(),u=_("button"),u.innerHTML=i,m=j(),h=_("button"),h.innerHTML=N,v=j(),d=_("button"),d.innerHTML=b,T=j(),g=_("button"),g.innerHTML=C,D=j(),O=_("button"),O.innerHTML=z,this.h()},l(w){e=p(w,"NAV",{class:!0});var E=S(e);l=p(E,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(l)!=="svelte-nkdg6y"&&(l.innerHTML=n),r=I(E),s=p(E,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(s)!=="svelte-nbpwn1"&&(s.innerHTML=a),c=I(E),u=p(E,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(u)!=="svelte-toyuqt"&&(u.innerHTML=i),m=I(E),h=p(E,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(h)!=="svelte-vbdqb3"&&(h.innerHTML=N),v=I(E),d=p(E,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(d)!=="svelte-a55vyt"&&(d.innerHTML=b),T=I(E),g=p(E,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(g)!=="svelte-ky9277"&&(g.innerHTML=C),D=I(E),O=p(E,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(O)!=="svelte-1obyap9"&&(O.innerHTML=z),E.forEach(k),this.h()},h(){f(l,"class","svelte-c549k7"),f(s,"class","svelte-c549k7"),f(u,"class","svelte-c549k7"),f(h,"class","svelte-c549k7"),f(d,"class","svelte-c549k7"),f(g,"class","svelte-c549k7"),f(O,"class","svelte-c549k7"),f(e,"class","svelte-c549k7")},m(w,E){J(w,e,E),o(e,l),o(e,r),o(e,s),o(e,c),o(e,u),o(e,m),o(e,h),o(e,v),o(e,d),o(e,T),o(e,g),o(e,D),o(e,O),F||(U=[G(l,"click",t[1]),G(s,"click",t[2]),G(u,"click",t[3]),G(h,"click",t[4]),G(d,"click",t[5]),G(g,"click",t[6]),G(O,"click",t[7])],F=!0)},p:ze,i:ze,o:ze,d(w){w&&k(e),F=!1,qe(U)}}}function Rn(t){const e=ml();function l(m){e("myevent",{action:m})}return[l,()=>l("zoomInit"),()=>l("zoomIn"),()=>l("zoomOut"),()=>l("moveLeft"),()=>l("moveRight"),()=>l("moveUp"),()=>l("moveDown")]}class Hn extends ye{constructor(e){super(),Fe(this,e,Rn,Bn,Me,{})}}function Vn(t){let e,l,n,r,s,a,c,u,i,m,h,N,v,d,b,T,g,C,D,O,z,F,U,w,E,M,P,X,R,y,V,x,Z,le,_e,ce,pe,Ce,L,B,ne,q;return{c(){e=_("div"),l=_("label"),n=_("input"),r=Y("main part"),s=j(),a=_("label"),c=_("input"),u=Y("main skeleton"),i=j(),m=_("label"),h=_("input"),N=Y("second parts"),v=j(),d=_("label"),b=_("input"),T=Y("second skeletons"),g=j(),C=_("label"),D=_("input"),O=Y("dynamics"),z=j(),F=_("label"),U=_("input"),w=Y("ruler"),E=j(),M=_("label"),P=_("input"),X=Y("frame of reference"),R=j(),y=_("label"),V=_("input"),x=Y("points"),Z=j(),le=_("label"),_e=_("input"),ce=Y("lines"),pe=j(),Ce=_("label"),L=_("input"),B=Y("vectors"),this.h()},l(fe){e=p(fe,"DIV",{class:!0});var ee=S(e);l=p(ee,"LABEL",{class:!0});var ke=S(l);n=p(ke,"INPUT",{type:!0,class:!0}),r=K(ke,"main part"),ke.forEach(k),s=I(ee),a=p(ee,"LABEL",{class:!0});var Te=S(a);c=p(Te,"INPUT",{type:!0,class:!0}),u=K(Te,"main skeleton"),Te.forEach(k),i=I(ee),m=p(ee,"LABEL",{class:!0});var ue=S(m);h=p(ue,"INPUT",{type:!0,class:!0}),N=K(ue,"second parts"),ue.forEach(k),v=I(ee),d=p(ee,"LABEL",{class:!0});var Q=S(d);b=p(Q,"INPUT",{type:!0,class:!0}),T=K(Q,"second skeletons"),Q.forEach(k),g=I(ee),C=p(ee,"LABEL",{class:!0});var oe=S(C);D=p(oe,"INPUT",{type:!0,class:!0}),O=K(oe,"dynamics"),oe.forEach(k),z=I(ee),F=p(ee,"LABEL",{class:!0});var $=S(F);U=p($,"INPUT",{type:!0,class:!0}),w=K($,"ruler"),$.forEach(k),E=I(ee),M=p(ee,"LABEL",{class:!0});var A=S(M);P=p(A,"INPUT",{type:!0,class:!0}),X=K(A,"frame of reference"),A.forEach(k),R=I(ee),y=p(ee,"LABEL",{class:!0});var te=S(y);V=p(te,"INPUT",{type:!0,class:!0}),x=K(te,"points"),te.forEach(k),Z=I(ee),le=p(ee,"LABEL",{class:!0});var ae=S(le);_e=p(ae,"INPUT",{type:!0,class:!0}),ce=K(ae,"lines"),ae.forEach(k),pe=I(ee),Ce=p(ee,"LABEL",{class:!0});var de=S(Ce);L=p(de,"INPUT",{type:!0,class:!0}),B=K(de,"vectors"),de.forEach(k),ee.forEach(k),this.h()},h(){f(n,"type","checkbox"),f(n,"class","svelte-1rsbkj"),f(l,"class","svelte-1rsbkj"),f(c,"type","checkbox"),f(c,"class","svelte-1rsbkj"),f(a,"class","svelte-1rsbkj"),f(h,"type","checkbox"),f(h,"class","svelte-1rsbkj"),f(m,"class","svelte-1rsbkj"),f(b,"type","checkbox"),f(b,"class","svelte-1rsbkj"),f(d,"class","svelte-1rsbkj"),f(D,"type","checkbox"),f(D,"class","svelte-1rsbkj"),f(C,"class","svelte-1rsbkj"),f(U,"type","checkbox"),f(U,"class","svelte-1rsbkj"),f(F,"class","svelte-1rsbkj"),f(P,"type","checkbox"),f(P,"class","svelte-1rsbkj"),f(M,"class","svelte-1rsbkj"),f(V,"type","checkbox"),f(V,"class","svelte-1rsbkj"),f(y,"class","svelte-1rsbkj"),f(_e,"type","checkbox"),f(_e,"class","svelte-1rsbkj"),f(le,"class","svelte-1rsbkj"),f(L,"type","checkbox"),f(L,"class","svelte-1rsbkj"),f(Ce,"class","svelte-1rsbkj"),f(e,"class","svelte-1rsbkj")},m(fe,ee){J(fe,e,ee),o(e,l),o(l,n),n.checked=t[0].main,o(l,r),o(e,s),o(e,a),o(a,c),c.checked=t[0].mainB,o(a,u),o(e,i),o(e,m),o(m,h),h.checked=t[0].second,o(m,N),o(e,v),o(e,d),o(d,b),b.checked=t[0].secondB,o(d,T),o(e,g),o(e,C),o(C,D),D.checked=t[0].dynamics,o(C,O),o(e,z),o(e,F),o(F,U),U.checked=t[0].ruler,o(F,w),o(e,E),o(e,M),o(M,P),P.checked=t[0].refframe,o(M,X),o(e,R),o(e,y),o(y,V),V.checked=t[0].points,o(y,x),o(e,Z),o(e,le),o(le,_e),_e.checked=t[0].lines,o(le,ce),o(e,pe),o(e,Ce),o(Ce,L),L.checked=t[0].vectors,o(Ce,B),ne||(q=[G(n,"change",t[1]),G(c,"change",t[2]),G(h,"change",t[3]),G(b,"change",t[4]),G(D,"change",t[5]),G(U,"change",t[6]),G(P,"change",t[7]),G(V,"change",t[8]),G(_e,"change",t[9]),G(L,"change",t[10])],ne=!0)},p(fe,[ee]){ee&1&&(n.checked=fe[0].main),ee&1&&(c.checked=fe[0].mainB),ee&1&&(h.checked=fe[0].second),ee&1&&(b.checked=fe[0].secondB),ee&1&&(D.checked=fe[0].dynamics),ee&1&&(U.checked=fe[0].ruler),ee&1&&(P.checked=fe[0].refframe),ee&1&&(V.checked=fe[0].points),ee&1&&(_e.checked=fe[0].lines),ee&1&&(L.checked=fe[0].vectors)},i:ze,o:ze,d(fe){fe&&k(e),ne=!1,qe(q)}}}function Wn(t,e,l){let n;at(t,Ve,d=>l(0,n=d));function r(){n.main=this.checked,Ve.set(n)}function s(){n.mainB=this.checked,Ve.set(n)}function a(){n.second=this.checked,Ve.set(n)}function c(){n.secondB=this.checked,Ve.set(n)}function u(){n.dynamics=this.checked,Ve.set(n)}function i(){n.ruler=this.checked,Ve.set(n)}function m(){n.refframe=this.checked,Ve.set(n)}function h(){n.points=this.checked,Ve.set(n)}function N(){n.lines=this.checked,Ve.set(n)}function v(){n.vectors=this.checked,Ve.set(n)}return[n,r,s,a,c,u,i,m,h,N,v]}class Xn extends ye{constructor(e){super(),Fe(this,e,Wn,Vn,Me,{})}}function xt(t,e,l){const n=t.slice();return n[36]=e[l],n}function el(t){let e,l=t[36]+"",n,r;return{c(){e=_("option"),n=Y(l),this.h()},l(s){e=p(s,"OPTION",{});var a=S(e);n=K(a,l),a.forEach(k),this.h()},h(){e.__value=r=t[36],be(e,e.__value)},m(s,a){J(s,e,a),o(e,n)},p(s,a){a[0]&8&&l!==(l=s[36]+"")&&ge(n,l),a[0]&8&&r!==(r=s[36])&&(e.__value=r,be(e,e.__value))},d(s){s&&k(e)}}}function Yn(t){let e,l,n,r,s,a,c,u,i,m,h,N,v,d,b,T,g,C,D,O,z,F;bt(t[20]);let U=De(t[3]),w=[];for(let P=0;P<U.length;P+=1)w[P]=el(xt(t,U,P));u=new Xn({});function E(P){t[23](P)}let M={tMax:t[2].sim.tMax,tStep:t[2].sim.tStep,tUpdate:t[2].sim.tUpdate};return t[1]!==void 0&&(M.simTime=t[1]),v=new Fn({props:M}),Ie.push(()=>Ue(v,"simTime",E)),D=new Hn({}),D.$on("myevent",t[8]),{c(){e=_("section"),l=_("h2"),n=Y(`Drawing
		`),r=_("select");for(let P=0;P<w.length;P+=1)w[P].c();s=_("option"),a=Y("All faces merged"),c=j(),Ee(u.$$.fragment),i=j(),m=_("div"),h=_("canvas"),N=j(),Ee(v.$$.fragment),b=j(),T=_("div"),g=_("canvas"),C=j(),Ee(D.$$.fragment),this.h()},l(P){e=p(P,"SECTION",{class:!0});var X=S(e);l=p(X,"H2",{class:!0});var R=S(l);n=K(R,`Drawing
		`),r=p(R,"SELECT",{class:!0});var y=S(r);for(let le=0;le<w.length;le+=1)w[le].l(y);s=p(y,"OPTION",{});var V=S(s);a=K(V,"All faces merged"),V.forEach(k),y.forEach(k),R.forEach(k),c=I(X),Le(u.$$.fragment,X),i=I(X),m=p(X,"DIV",{class:!0});var x=S(m);h=p(x,"CANVAS",{class:!0,width:!0,height:!0}),S(h).forEach(k),N=I(x),Le(v.$$.fragment,x),x.forEach(k),b=I(X),T=p(X,"DIV",{class:!0});var Z=S(T);g=p(Z,"CANVAS",{class:!0,width:!0,height:!0}),S(g).forEach(k),C=I(Z),Le(D.$$.fragment,Z),Z.forEach(k),X.forEach(k),this.h()},h(){s.__value=kl,be(s,s.__value),f(r,"class","svelte-s85el8"),t[0]===void 0&&bt(()=>t[21].call(r)),f(l,"class","svelte-s85el8"),f(h,"class","full svelte-s85el8"),f(h,"width",ft),f(h,"height",ft),f(m,"class","rack svelte-s85el8"),f(g,"class","zoom svelte-s85el8"),f(g,"width",ft),f(g,"height",ft),f(T,"class","rack svelte-s85el8"),f(e,"class","svelte-s85el8")},m(P,X){J(P,e,X),o(e,l),o(l,n),o(l,r);for(let R=0;R<w.length;R+=1)w[R]&&w[R].m(r,null);o(r,s),o(s,a),ot(r,t[0],!0),o(e,c),Se(u,e,null),o(e,i),o(e,m),o(m,h),t[22](h),o(m,N),Se(v,m,null),o(e,b),o(e,T),o(T,g),t[24](g),o(T,C),Se(D,T,null),O=!0,z||(F=[G(window,"resize",t[7]),G(window,"resize",t[20]),G(r,"change",t[21]),G(h,"mousedown",t[9]),G(h,"mouseup",t[10]),G(h,"mousemove",t[11]),G(g,"mousedown",t[12]),G(g,"mousemove",t[13]),G(g,"wheel",Al(t[14]))],z=!0)},p(P,X){if(X[0]&8){U=De(P[3]);let y;for(y=0;y<U.length;y+=1){const V=xt(P,U,y);w[y]?w[y].p(V,X):(w[y]=el(V),w[y].c(),w[y].m(r,s))}for(;y<w.length;y+=1)w[y].d(1);w.length=U.length}X[0]&9&&ot(r,P[0]);const R={};X[0]&4&&(R.tMax=P[2].sim.tMax),X[0]&4&&(R.tStep=P[2].sim.tStep),X[0]&4&&(R.tUpdate=P[2].sim.tUpdate),!d&&X[0]&2&&(d=!0,R.simTime=P[1],Ae(()=>d=!1)),v.$set(R)},i(P){O||(we(u.$$.fragment,P),we(v.$$.fragment,P),we(D.$$.fragment,P),O=!0)},o(P){Oe(u.$$.fragment,P),Oe(v.$$.fragment,P),Oe(D.$$.fragment,P),O=!1},d(P){P&&k(e),Ke(w,P),je(u),t[22](null),je(v),t[24](null),je(D),z=!1,qe(F)}}}const kl="ParametrixAll",ft=400,Kn=3e3,Tt=10,tl=3;function qn(t,e){let l=e;if(t.length===0)console.log("warn404: Drawing has an empty face list");else{const n=t.slice();n.push(kl),n.includes(l)||(l=t[0])}return l}function Gn(t,e,l){let n,r;at(t,Ve,L=>l(18,n=L)),at(t,Ze,L=>l(19,r=L));let{pDef:s}=e,{fgeom:a}=e,{optFaces:c}=e,{selFace:u}=e,{zAdjust:i}=e,{simTime:m=0}=e,h,N,v,d,b;function T(L){const B=N.getContext("2d");B.clearRect(0,0,B.canvas.width,B.canvas.height);try{b=d.getAdjustFull(B.canvas.width,B.canvas.height),d.draw(B,b,L)}catch(ne){console.log(ne)}}function g(L){const B=v.getContext("2d");B.clearRect(0,0,B.canvas.width,B.canvas.height);try{(i===void 0||i.init===0)&&l(15,i=d.getAdjustZoom(B.canvas.width,B.canvas.height)),d.draw(B,i,L)}catch(ne){console.log(ne)}}function C(){const L=N.getContext("2d"),B=Math.max(.4*h,ft);L.canvas.width=B,L.canvas.height=B}function D(){C(),T(n),g(n)}let O=0;function z(L,B,ne,q){const fe=a(L,B).fig,ee=Object.keys(fe),ke=qn(ee,ne);l(0,u=ke),ee.includes(ke)?d=fe[ke]:d=dl(fe),T(q),g(q)}function F(L,B){z(L,r[s.partName],B,n)}Et(()=>{C(),F(m,u),l(17,O=1)});function U(L){switch(L.detail.action){case"zoomInit":l(15,i.init=0,i);break;case"zoomIn":l(15,i=Nt(.7,i));break;case"zoomOut":l(15,i=Nt(1.3,i));break;case"moveLeft":l(15,i.xMin+=-.2*i.xyDiff,i);break;case"moveRight":l(15,i.xMin+=.2*i.xyDiff,i);break;case"moveUp":l(15,i.yMin+=.2*i.xyDiff,i);break;case"moveDown":l(15,i.yMin+=-.2*i.xyDiff,i);break;default:console.log(`ERR423: ${L.detail.action} has no case!`)}g(n)}let w={timestamp:0,offsetX:0,offsetY:0};function E(L){L.button===0&&(w.timestamp=Date.now(),w.offsetX=L.offsetX,w.offsetY=L.offsetY)}function M(L){if(L.button===0)if(Date.now()-w.timestamp<Kn){const B=Math.abs(w.offsetX-L.offsetX),ne=Math.abs(w.offsetY-L.offsetY);if(B<Tt&&ne<Tt){const[q,fe]=ct(L.offsetX,L.offsetY,b);l(15,i=Bl(q,fe,i)),F(m,u)}if(B>Tt&&ne>Tt){const q=B/ne,fe=1/q;if(q<tl&&fe<tl){const[ee,ke]=ct(L.offsetX,L.offsetY,b),[Te,ue]=ct(w.offsetX,w.offsetY,b);l(15,i=Rl(ee,ke,Te,ue,ft,ft)),F(m,u)}}}else console.log(`Warn205: ignore ${L.offsetX} ${L.offsetY} because too slow`)}function P(L){const B=N.getContext("2d");if(L.buttons===1){const ne=L.offsetX-w.offsetX,q=L.offsetY-w.offsetY;T(n),B.beginPath(),B.rect(w.offsetX,w.offsetY,ne,q),B.strokeStyle=Ot.mouse,B.stroke()}if(n.ruler){const[ne,q]=ct(L.offsetX,L.offsetY,b);B.clearRect(5,5,200,25),B.font="15px Arial",B.fillStyle=Ot.ruler,B.fillText(`x: ${ne.toFixed(4)} y: ${q.toFixed(4)}`,5,20)}}let X,R,y;function V(L){if(L.button===0){const[B,ne]=ct(L.offsetX,L.offsetY,i);X=B,R=ne,y=structuredClone(i)}}function x(L){if(L.buttons===1){const[B,ne]=ct(L.offsetX,L.offsetY,y);l(15,i=Hl(X,R,B,ne,y)),g(n)}else if(n.ruler){const B=v.getContext("2d"),[ne,q]=ct(L.offsetX,L.offsetY,i);B.clearRect(5,5,200,25),B.font="15px Arial",B.fillStyle=Ot.ruler,B.fillText(`x: ${ne.toFixed(4)} y: ${q.toFixed(4)}`,5,20)}}function Z(L){L.deltaY>0?l(15,i=Nt(.7,i)):l(15,i=Nt(1.3,i)),g(n)}function le(){l(4,h=window.innerWidth)}function _e(){u=Ct(this),l(0,u),l(3,c)}function ce(L){Ie[L?"unshift":"push"](()=>{N=L,l(5,N)})}function pe(L){m=L,l(1,m)}function Ce(L){Ie[L?"unshift":"push"](()=>{v=L,l(6,v)})}return t.$$set=L=>{"pDef"in L&&l(2,s=L.pDef),"fgeom"in L&&l(16,a=L.fgeom),"optFaces"in L&&l(3,c=L.optFaces),"selFace"in L&&l(0,u=L.selFace),"zAdjust"in L&&l(15,i=L.zAdjust),"simTime"in L&&l(1,m=L.simTime)},t.$$.update=()=>{t.$$.dirty[0]&917511&&O===1&&z(m,r[s.partName],u,n)},[u,m,s,c,h,N,v,D,U,E,M,P,V,x,Z,i,a,O,n,r,le,_e,ce,pe,Ce]}class Zn extends ye{constructor(e){super(),Fe(this,e,Gn,Yn,Me,{pDef:2,fgeom:16,optFaces:3,selFace:0,zAdjust:15,simTime:1},null,[-1,-1])}}function ll(t,e,l){const n=t.slice();return n[10]=e[l],n}function nl(t,e,l){const n=t.slice();return n[13]=e[l],n[15]=l,n}function sl(t){let e,l,n=t[15]+1+"",r,s,a,c=t[13]+"",u,i,m,h=t[0][t[10]].dparam[t[13]].val+"",N,v,d,b,T=t[0][t[10]].dparam[t[13]].init+"",g,C,D,O,z=ol(t[0][t[10]].dparam[t[13]].chg)+"",F,U;return{c(){e=_("tr"),l=_("td"),r=Y(n),s=j(),a=_("td"),u=Y(c),i=j(),m=_("td"),N=Y(h),v=j(),d=_("td"),b=_("i"),g=Y(T),C=j(),D=_("td"),O=_("i"),F=Y(z),U=j(),this.h()},l(w){e=p(w,"TR",{class:!0});var E=S(e);l=p(E,"TD",{});var M=S(l);r=K(M,n),M.forEach(k),s=I(E),a=p(E,"TD",{});var P=S(a);u=K(P,c),P.forEach(k),i=I(E),m=p(E,"TD",{});var X=S(m);N=K(X,h),X.forEach(k),v=I(E),d=p(E,"TD",{});var R=S(d);b=p(R,"I",{});var y=S(b);g=K(y,T),y.forEach(k),R.forEach(k),C=I(E),D=p(E,"TD",{});var V=S(D);O=p(V,"I",{});var x=S(O);F=K(x,z),x.forEach(k),V.forEach(k),U=I(E),E.forEach(k),this.h()},h(){f(e,"class","svelte-lzdpo0"),He(e,"changed",t[0][t[10]].dparam[t[13]].chg)},m(w,E){J(w,e,E),o(e,l),o(l,r),o(e,s),o(e,a),o(a,u),o(e,i),o(e,m),o(m,N),o(e,v),o(e,d),o(d,b),o(b,g),o(e,C),o(e,D),o(D,O),o(O,F),o(e,U)},p(w,E){E&5&&c!==(c=w[13]+"")&&ge(u,c),E&5&&h!==(h=w[0][w[10]].dparam[w[13]].val+"")&&ge(N,h),E&5&&T!==(T=w[0][w[10]].dparam[w[13]].init+"")&&ge(g,T),E&5&&z!==(z=ol(w[0][w[10]].dparam[w[13]].chg)+"")&&ge(F,z),E&5&&He(e,"changed",w[0][w[10]].dparam[w[13]].chg)},d(w){w&&k(e)}}}function al(t){let e,l,n,r,s,a,c,u=t[10]+"",i,m,h,N,v,d=t[1][t[0][t[10]].partName]+"",b,T,g,C="Export parameters",D,O,z,F=Object.keys(t[0][t[10]].dparam).length+"",U,w,E,M=t[0][t[10]].partName+"",P,X,R=t[5](t[0][t[10]].orientation)+"",y,V,x=t[6](t[0][t[10]].position)+"",Z,le,_e,ce,pe,Ce="<tr><td>Num</td> <td>Name</td> <td>Value</td> <td>Init</td> <td>Set?</td></tr>",L,B,ne,q,fe;function ee(){return t[8](t[10])}function ke(){return t[9](t[10])}let Te=De(Object.keys(t[0][t[10]].dparam)),ue=[];for(let Q=0;Q<Te.length;Q+=1)ue[Q]=sl(nl(t,Te,Q));return{c(){e=_("li"),l=_("input"),r=j(),s=_("label"),a=_("div"),c=j(),i=Y(u),h=j(),N=_("button"),v=Y("Go to "),b=Y(d),T=j(),g=_("button"),g.textContent=C,D=j(),O=_("div"),z=_("article"),U=Y(F),w=Y(` parameters of
						`),E=_("strong"),P=Y(M),X=Y(`
						with orientation `),y=Y(R),V=Y(` (degree) at position
						`),Z=Y(x),le=Y(" (mm)"),_e=j(),ce=_("table"),pe=_("thead"),pe.innerHTML=Ce,L=j(),B=_("tbody");for(let Q=0;Q<ue.length;Q+=1)ue[Q].c();ne=j(),this.h()},l(Q){e=p(Q,"LI",{class:!0});var oe=S(e);l=p(oe,"INPUT",{type:!0,id:!0,class:!0}),r=I(oe),s=p(oe,"LABEL",{for:!0,class:!0});var $=S(s);a=p($,"DIV",{class:!0}),S(a).forEach(k),c=I($),i=K($,u),$.forEach(k),h=I(oe),N=p(oe,"BUTTON",{class:!0});var A=S(N);v=K(A,"Go to "),b=K(A,d),A.forEach(k),T=I(oe),g=p(oe,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(g)!=="svelte-circu6"&&(g.textContent=C),D=I(oe),O=p(oe,"DIV",{class:!0});var te=S(O);z=p(te,"ARTICLE",{class:!0});var ae=S(z);U=K(ae,F),w=K(ae,` parameters of
						`),E=p(ae,"STRONG",{});var de=S(E);P=K(de,M),de.forEach(k),X=K(ae,`
						with orientation `),y=K(ae,R),V=K(ae,` (degree) at position
						`),Z=K(ae,x),le=K(ae," (mm)"),ae.forEach(k),_e=I(te),ce=p(te,"TABLE",{class:!0});var ve=S(ce);pe=p(ve,"THEAD",{class:!0,"data-svelte-h":!0}),ie(pe)!=="svelte-nhorjb"&&(pe.innerHTML=Ce),L=I(ve),B=p(ve,"TBODY",{class:!0});var he=S(B);for(let Be=0;Be<ue.length;Be+=1)ue[Be].l(he);he.forEach(k),ve.forEach(k),te.forEach(k),ne=I(oe),oe.forEach(k),this.h()},h(){f(l,"type","checkbox"),f(l,"id",n="cb_"+t[10]),f(l,"class","toggle svelte-lzdpo0"),l.checked=!1,f(a,"class","arrow svelte-lzdpo0"),f(s,"for",m="cb_"+t[10]),f(s,"class","label svelte-lzdpo0"),f(N,"class","svelte-lzdpo0"),f(g,"class","svelte-lzdpo0"),f(z,"class","svelte-lzdpo0"),f(pe,"class","svelte-lzdpo0"),f(B,"class","svelte-lzdpo0"),f(ce,"class","svelte-lzdpo0"),f(O,"class","nested svelte-lzdpo0"),f(e,"class","svelte-lzdpo0")},m(Q,oe){J(Q,e,oe),o(e,l),o(e,r),o(e,s),o(s,a),o(s,c),o(s,i),o(e,h),o(e,N),o(N,v),o(N,b),o(e,T),o(e,g),o(e,D),o(e,O),o(O,z),o(z,U),o(z,w),o(z,E),o(E,P),o(z,X),o(z,y),o(z,V),o(z,Z),o(z,le),o(O,_e),o(O,ce),o(ce,pe),o(ce,L),o(ce,B);for(let $=0;$<ue.length;$+=1)ue[$]&&ue[$].m(B,null);o(e,ne),q||(fe=[G(N,"click",ee),G(g,"click",ke)],q=!0)},p(Q,oe){if(t=Q,oe&4&&n!==(n="cb_"+t[10])&&f(l,"id",n),oe&4&&u!==(u=t[10]+"")&&ge(i,u),oe&4&&m!==(m="cb_"+t[10])&&f(s,"for",m),oe&7&&d!==(d=t[1][t[0][t[10]].partName]+"")&&ge(b,d),oe&5&&F!==(F=Object.keys(t[0][t[10]].dparam).length+"")&&ge(U,F),oe&5&&M!==(M=t[0][t[10]].partName+"")&&ge(P,M),oe&5&&R!==(R=t[5](t[0][t[10]].orientation)+"")&&ge(y,R),oe&5&&x!==(x=t[6](t[0][t[10]].position)+"")&&ge(Z,x),oe&5){Te=De(Object.keys(t[0][t[10]].dparam));let $;for($=0;$<Te.length;$+=1){const A=nl(t,Te,$);ue[$]?ue[$].p(A,oe):(ue[$]=sl(A),ue[$].c(),ue[$].m(B,null))}for(;$<ue.length;$+=1)ue[$].d(1);ue.length=Te.length}},d(Q){Q&&k(e),Ke(ue,Q),q=!1,qe(fe)}}}function Jn(t){let e,l,n,r,s,a=t[2].length+"",c,u,i,m,h=De(t[2]),N=[];for(let v=0;v<h.length;v+=1)N[v]=al(ll(t,h,v));return{c(){e=_("section"),l=_("h2"),n=Y(`Sub-designs
		`),r=_("span"),s=Y("(Number of sub-instances: "),c=Y(a),u=Y(")"),i=j(),m=_("ol");for(let v=0;v<N.length;v+=1)N[v].c();this.h()},l(v){e=p(v,"SECTION",{class:!0});var d=S(e);l=p(d,"H2",{class:!0});var b=S(l);n=K(b,`Sub-designs
		`),r=p(b,"SPAN",{class:!0});var T=S(r);s=K(T,"(Number of sub-instances: "),c=K(T,a),u=K(T,")"),T.forEach(k),b.forEach(k),i=I(d),m=p(d,"OL",{class:!0});var g=S(m);for(let C=0;C<N.length;C+=1)N[C].l(g);g.forEach(k),d.forEach(k),this.h()},h(){f(r,"class","svelte-lzdpo0"),f(l,"class","svelte-lzdpo0"),f(m,"class","svelte-lzdpo0"),f(e,"class","svelte-lzdpo0")},m(v,d){J(v,e,d),o(e,l),o(l,n),o(l,r),o(r,s),o(r,c),o(r,u),o(e,i),o(e,m);for(let b=0;b<N.length;b+=1)N[b]&&N[b].m(m,null)},p(v,[d]){if(d&4&&a!==(a=v[2].length+"")&&ge(c,a),d&127){h=De(v[2]);let b;for(b=0;b<h.length;b+=1){const T=ll(v,h,b);N[b]?N[b].p(T,d):(N[b]=al(T),N[b].c(),N[b].m(m,null))}for(;b<N.length;b+=1)N[b].d(1);N.length=h.length}},i:ze,o:ze,d(v){v&&k(e),Ke(N,v)}}}function ol(t){return t?"Yes":""}function Qn(t,e,l){let{subD:n={}}=e,{origPartName:r=""}=e,{pLink:s}=e,a=[];async function c(v){const d=n[v];pl(d.partName,At(d.dparam),!0);const b=`${vt}${s[d.partName]}`;Ol(b)}function u(v){const d=n[v].partName,b=n[v].dparam,T=`sub-design parameters of ${d} from ${r}`;bl(d,At(b),T)}function i(v){let d="[ ";return d+=`${dt(Dt(v[0]))}, `,d+=`${dt(Dt(v[1]))}, `,d+=`${dt(Dt(v[2]))} ]`,d}function m(v){let d="[ ";return d+=`${dt(v[0])}, `,d+=`${dt(v[1])}, `,d+=`${dt(v[2])} ]`,d}const h=v=>c(v),N=v=>u(v);return t.$$set=v=>{"subD"in v&&l(0,n=v.subD),"origPartName"in v&&l(7,r=v.origPartName),"pLink"in v&&l(1,s=v.pLink)},t.$$.update=()=>{t.$$.dirty&1&&l(2,a=Object.keys(n))},[n,s,a,c,u,i,m,r,h,N]}class $n extends ye{constructor(e){super(),Fe(this,e,Qn,Jn,Me,{subD:0,origPartName:7,pLink:1})}}function rl(t,e,l){const n=t.slice();return n[21]=e[l],n}function il(t,e,l){const n=t.slice();return n[21]=e[l],n}function cl(t){let e,l,n=t[21]+"",r,s,a;return{c(){e=_("option"),l=Y("face "),r=Y(n),s=Y(" as svg"),this.h()},l(c){e=p(c,"OPTION",{});var u=S(e);l=K(u,"face "),r=K(u,n),s=K(u," as svg"),u.forEach(k),this.h()},h(){e.__value=a="svg_"+t[21],be(e,e.__value)},m(c,u){J(c,e,u),o(e,l),o(e,r),o(e,s)},p(c,u){u&16&&n!==(n=c[21]+"")&&ge(r,n),u&16&&a!==(a="svg_"+c[21])&&(e.__value=a,be(e,e.__value))},d(c){c&&k(e)}}}function fl(t){let e,l,n=t[21]+"",r,s,a;return{c(){e=_("option"),l=Y("face "),r=Y(n),s=Y(" as dxf"),this.h()},l(c){e=p(c,"OPTION",{});var u=S(e);l=K(u,"face "),r=K(u,n),s=K(u," as dxf"),u.forEach(k),this.h()},h(){e.__value=a="dxf_"+t[21],be(e,e.__value)},m(c,u){J(c,e,u),o(e,l),o(e,r),o(e,s)},p(c,u){u&16&&n!==(n=c[21]+"")&&ge(r,n),u&16&&a!==(a="dxf_"+c[21])&&(e.__value=a,be(e,e.__value))},d(c){c&&k(e)}}}function xn(t){let e,l,n,r,s="Log",a,c,u,i,m,h,N,v,d,b,T="Export",g,C,D,O="all faces merged as svg",z,F="all faces merged as dxf",U,w="compute.log as log-file",E,M="all faces as pax.json",P,X="all faces as openscad.scad",R,y="all faces as OpenJScad.js",V,x="all faces as Freecad.py",Z,le="all faces and more as zip",_e,ce,pe="Save to File",Ce,L,B,ne,q;e=new zn({props:{pDef:t[0],fgeom:t[1],selFace:t[6],zAdjust:t[7],simTime:t[3]}}),e.$on("paramChg",t[12]);function fe(A){t[14](A)}function ee(A){t[15](A)}function ke(A){t[16](A)}let Te={pDef:t[0],fgeom:t[1],optFaces:t[4]};t[6]!==void 0&&(Te.selFace=t[6]),t[7]!==void 0&&(Te.zAdjust=t[7]),t[3]!==void 0&&(Te.simTime=t[3]),i=new Zn({props:Te}),Ie.push(()=>Ue(i,"selFace",fe)),Ie.push(()=>Ue(i,"zAdjust",ee)),Ie.push(()=>Ue(i,"simTime",ke));let ue=De(t[4]),Q=[];for(let A=0;A<ue.length;A+=1)Q[A]=cl(il(t,ue,A));let oe=De(t[4]),$=[];for(let A=0;A<oe.length;A+=1)$[A]=fl(rl(t,oe,A));return L=new $n({props:{subD:t[11],origPartName:t[0].partName,pLink:t[2]}}),{c(){Ee(e.$$.fragment),l=j(),n=_("section"),r=_("h2"),r.textContent=s,a=j(),c=_("textarea"),u=j(),Ee(i.$$.fragment),v=j(),d=_("section"),b=_("h2"),b.textContent=T,g=j(),C=_("select");for(let A=0;A<Q.length;A+=1)Q[A].c();D=_("option"),D.textContent=O;for(let A=0;A<$.length;A+=1)$[A].c();z=_("option"),z.textContent=F,U=_("option"),U.textContent=w,E=_("option"),E.textContent=M,P=_("option"),P.textContent=X,R=_("option"),R.textContent=y,V=_("option"),V.textContent=x,Z=_("option"),Z.textContent=le,_e=j(),ce=_("button"),ce.textContent=pe,Ce=j(),Ee(L.$$.fragment),this.h()},l(A){Le(e.$$.fragment,A),l=I(A),n=p(A,"SECTION",{class:!0});var te=S(n);r=p(te,"H2",{class:!0,"data-svelte-h":!0}),ie(r)!=="svelte-4ty0ys"&&(r.textContent=s),a=I(te),c=p(te,"TEXTAREA",{rows:!0,cols:!0,wrap:!0,class:!0}),S(c).forEach(k),te.forEach(k),u=I(A),Le(i.$$.fragment,A),v=I(A),d=p(A,"SECTION",{class:!0});var ae=S(d);b=p(ae,"H2",{class:!0,"data-svelte-h":!0}),ie(b)!=="svelte-1kkpb88"&&(b.textContent=T),g=I(ae),C=p(ae,"SELECT",{class:!0});var de=S(C);for(let ve=0;ve<Q.length;ve+=1)Q[ve].l(de);D=p(de,"OPTION",{"data-svelte-h":!0}),ie(D)!=="svelte-22of2y"&&(D.textContent=O);for(let ve=0;ve<$.length;ve+=1)$[ve].l(de);z=p(de,"OPTION",{"data-svelte-h":!0}),ie(z)!=="svelte-1utjrni"&&(z.textContent=F),U=p(de,"OPTION",{"data-svelte-h":!0}),ie(U)!=="svelte-1tyn6jo"&&(U.textContent=w),E=p(de,"OPTION",{"data-svelte-h":!0}),ie(E)!=="svelte-3g91m5"&&(E.textContent=M),P=p(de,"OPTION",{"data-svelte-h":!0}),ie(P)!=="svelte-1tpsyal"&&(P.textContent=X),R=p(de,"OPTION",{"data-svelte-h":!0}),ie(R)!=="svelte-1n2n9j5"&&(R.textContent=y),V=p(de,"OPTION",{"data-svelte-h":!0}),ie(V)!=="svelte-16hjo1m"&&(V.textContent=x),Z=p(de,"OPTION",{"data-svelte-h":!0}),ie(Z)!=="svelte-168w9vd"&&(Z.textContent=le),de.forEach(k),_e=I(ae),ce=p(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(ce)!=="svelte-kuqug6"&&(ce.textContent=pe),Ce=I(ae),Le(L.$$.fragment,ae),ae.forEach(k),this.h()},h(){f(r,"class","svelte-19nn0vk"),f(c,"rows","5"),f(c,"cols","94"),c.readOnly=!0,f(c,"wrap","off"),c.value=t[8],f(c,"class","svelte-19nn0vk"),He(c,"colorErr",t[9]),He(c,"colorWarn",t[10]),f(n,"class","svelte-19nn0vk"),f(b,"class","svelte-19nn0vk"),D.__value="allsvg",be(D,D.__value),z.__value="alldxf",be(z,z.__value),U.__value="compute_log",be(U,U.__value),E.__value="pax",be(E,E.__value),P.__value="oscad",be(P,P.__value),R.__value="ojscad",be(R,R.__value),V.__value="freecad",be(V,V.__value),Z.__value="zip",be(Z,Z.__value),f(C,"class","svelte-19nn0vk"),t[5]===void 0&&bt(()=>t[17].call(C)),f(ce,"class","svelte-19nn0vk"),f(d,"class","svelte-19nn0vk")},m(A,te){Se(e,A,te),J(A,l,te),J(A,n,te),o(n,r),o(n,a),o(n,c),J(A,u,te),Se(i,A,te),J(A,v,te),J(A,d,te),o(d,b),o(d,g),o(d,C);for(let ae=0;ae<Q.length;ae+=1)Q[ae]&&Q[ae].m(C,null);o(C,D);for(let ae=0;ae<$.length;ae+=1)$[ae]&&$[ae].m(C,null);o(C,z),o(C,U),o(C,E),o(C,P),o(C,R),o(C,V),o(C,Z),ot(C,t[5],!0),o(d,_e),o(d,ce),o(d,Ce),Se(L,d,null),B=!0,ne||(q=[G(C,"change",t[17]),G(ce,"click",t[13])],ne=!0)},p(A,[te]){const ae={};te&1&&(ae.pDef=A[0]),te&2&&(ae.fgeom=A[1]),te&64&&(ae.selFace=A[6]),te&128&&(ae.zAdjust=A[7]),te&8&&(ae.simTime=A[3]),e.$set(ae),(!B||te&256)&&(c.value=A[8]),(!B||te&512)&&He(c,"colorErr",A[9]),(!B||te&1024)&&He(c,"colorWarn",A[10]);const de={};if(te&1&&(de.pDef=A[0]),te&2&&(de.fgeom=A[1]),te&16&&(de.optFaces=A[4]),!m&&te&64&&(m=!0,de.selFace=A[6],Ae(()=>m=!1)),!h&&te&128&&(h=!0,de.zAdjust=A[7],Ae(()=>h=!1)),!N&&te&8&&(N=!0,de.simTime=A[3],Ae(()=>N=!1)),i.$set(de),te&16){ue=De(A[4]);let he;for(he=0;he<ue.length;he+=1){const Be=il(A,ue,he);Q[he]?Q[he].p(Be,te):(Q[he]=cl(Be),Q[he].c(),Q[he].m(C,D))}for(;he<Q.length;he+=1)Q[he].d(1);Q.length=ue.length}if(te&16){oe=De(A[4]);let he;for(he=0;he<oe.length;he+=1){const Be=rl(A,oe,he);$[he]?$[he].p(Be,te):($[he]=fl(Be),$[he].c(),$[he].m(C,z))}for(;he<$.length;he+=1)$[he].d(1);$.length=oe.length}te&48&&ot(C,A[5]);const ve={};te&2048&&(ve.subD=A[11]),te&1&&(ve.origPartName=A[0].partName),te&4&&(ve.pLink=A[2]),L.$set(ve)},i(A){B||(we(e.$$.fragment,A),we(i.$$.fragment,A),we(L.$$.fragment,A),B=!0)},o(A){Oe(e.$$.fragment,A),Oe(i.$$.fragment,A),Oe(L.$$.fragment,A),B=!1},d(A){A&&(k(l),k(n),k(u),k(v),k(d)),je(e,A),je(i,A),Ke(Q,A),Ke($,A),je(L),ne=!1,qe(q)}}}function es(t){let e=!0;const l=/warn/i;return t.search(l)<0&&(e=!1),e}function ts(t,e){const l=document.createElement("a"),n=URL.createObjectURL(e);l.setAttribute("href",n),l.setAttribute("download",t),l.click(),l.remove(),URL.revokeObjectURL(n)}function ls(t,e,l){const n=document.createElement("a"),r="data:"+l+";utf-8,"+encodeURIComponent(e);n.setAttribute("href",r),n.setAttribute("download",t),n.click(),n.remove()}function ns(){const t=/[-:]/g,e=/\..*$/;return new Date().toISOString().replace(t,"").replace(e,"").replace("T","_")}function ss(t,e,l){let n;at(t,Ze,w=>l(18,n=w));let{pDef:r}=e,{fgeom:s}=e,{pLink:a}=e,c=[],u,i,m=0,h=_l(),N=`Dummy initial
Will be replaced during onMount
`,v=!1,d=!1,b={};function T(w,E){l(8,N=`Geometry ${w} computed at ${new Date().toLocaleTimeString()}
`);const P=s(E,n[r.partName]);l(8,N+=P.logstr),l(9,v=P.calcErr),l(10,d=es(P.logstr)),l(4,c=Object.keys(P.fig)),l(5,u="zip"),l(11,b=P.sub)}function g(){T(r.partName,m)}async function C(w){const E=/^svg_/,M=/^dxf_/;let P=Ge.eSVG,X="all";w.match(E)?(P=Ge.eSVG,X=w.replace(E,"")):w.match(M)?(P=Ge.eDXF,X=w.replace(M,"")):w==="allsvg"?P=Ge.eSVGALL:w==="alldxf"?P=Ge.eDXFALL:w==="compute_log"?P=Ge.eTXTLOG:w==="pax"?P=Ge.ePAX:w==="oscad"?P=Ge.eOPENSCAD:w==="ojscad"?P=Ge.eJSCAD:w==="freecad"?P=Ge.eFREECAD:w==="zip"?P=Ge.eZIP:console.log(`err883: downloadExport iExportFace ${w} invalid`);const R=Xl(P),y=Kl(P),V=Yl(P),x=r.partName+"_"+X+"_"+ns()+R;if(V){const Z=await Vl(s,m,n[r.partName],r,P);ts(x,Z)}else{const Z=Wl(s,n[r.partName],r,X,P);ls(x,Z,y)}}async function D(){await C(u)}function O(w){i=w,l(6,i)}function z(w){h=w,l(7,h)}function F(w){m=w,l(3,m)}function U(){u=Ct(this),l(5,u),l(4,c)}return t.$$set=w=>{"pDef"in w&&l(0,r=w.pDef),"fgeom"in w&&l(1,s=w.fgeom),"pLink"in w&&l(2,a=w.pLink)},t.$$.update=()=>{t.$$.dirty&9&&T(r.partName,m)},[r,s,a,m,c,u,i,h,N,v,d,b,g,D,O,z,F,U]}class as extends ye{constructor(e){super(),Fe(this,e,ss,xn,Me,{pDef:0,fgeom:1,pLink:2})}}function os(t){let e,l=t[0].pTitle+"",n,r,s,a,c=t[0].pDef.partName+"",u,i,m=t[0].pDescription+"",h,N,v,d,b,T;return v=new ln({props:{pDef:t[0].pDef}}),b=new as({props:{pDef:t[0].pDef,fgeom:t[0].pGeom,pLink:t[1]}}),{c(){e=_("h1"),n=Y(l),r=j(),s=_("article"),a=Y("["),u=Y(c),i=Y("]: "),h=Y(m),N=j(),Ee(v.$$.fragment),d=j(),Ee(b.$$.fragment),this.h()},l(g){e=p(g,"H1",{class:!0});var C=S(e);n=K(C,l),C.forEach(k),r=I(g),s=p(g,"ARTICLE",{class:!0});var D=S(s);a=K(D,"["),u=K(D,c),i=K(D,"]: "),h=K(D,m),D.forEach(k),N=I(g),Le(v.$$.fragment,g),d=I(g),Le(b.$$.fragment,g),this.h()},h(){f(e,"class","svelte-1aya6oa"),f(s,"class","svelte-1aya6oa")},m(g,C){J(g,e,C),o(e,n),J(g,r,C),J(g,s,C),o(s,a),o(s,u),o(s,i),o(s,h),J(g,N,C),Se(v,g,C),J(g,d,C),Se(b,g,C),T=!0},p(g,[C]){(!T||C&1)&&l!==(l=g[0].pTitle+"")&&ge(n,l),(!T||C&1)&&c!==(c=g[0].pDef.partName+"")&&ge(u,c),(!T||C&1)&&m!==(m=g[0].pDescription+"")&&ge(h,m);const D={};C&1&&(D.pDef=g[0].pDef),v.$set(D);const O={};C&1&&(O.pDef=g[0].pDef),C&1&&(O.fgeom=g[0].pGeom),C&2&&(O.pLink=g[1]),b.$set(O)},i(g){T||(we(v.$$.fragment,g),we(b.$$.fragment,g),T=!0)},o(g){Oe(v.$$.fragment,g),Oe(b.$$.fragment,g),T=!1},d(g){g&&(k(e),k(r),k(s),k(N),k(d)),je(v,g),je(b,g)}}}function rs(t,e,l){let{pageDef:n}=e,{pLink:r}=e;return t.$$set=s=>{"pageDef"in s&&l(0,n=s.pageDef),"pLink"in s&&l(1,r=s.pLink)},t.$$.update=()=>{t.$$.dirty&1&&Jl(n)},[n,r]}class is extends ye{constructor(e){super(),Fe(this,e,rs,os,Me,{pageDef:0,pLink:1})}}function cs(t){let e,l;return e=new is({props:{pageDef:t[0].pageDef,pLink:t[0].allLink}}),{c(){Ee(e.$$.fragment)},l(n){Le(e.$$.fragment,n)},m(n,r){Se(e,n,r),l=!0},p(n,[r]){const s={};r&1&&(s.pageDef=n[0].pageDef),r&1&&(s.pLink=n[0].allLink),e.$set(s)},i(n){l||(we(e.$$.fragment,n),l=!0)},o(n){Oe(e.$$.fragment,n),l=!1},d(n){je(e,n)}}}function fs(t,e,l){let{data:n}=e;return t.$$set=r=>{"data"in r&&l(0,n=r.data)},[n]}class bs extends ye{constructor(e){super(),Fe(this,e,fs,cs,Me,{data:0})}}export{bs as component,vs as universal};
